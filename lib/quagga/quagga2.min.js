!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Quagga=e():t.Quagga=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=105)}([function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}t.exports=r},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,r){var n=r(23),o=r(1);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e}},function(t,e,r){var n=r(178);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){t.exports={EPSILON:r(58),create:r(59),clone:r(110),fromValues:r(111),copy:r(112),set:r(113),equals:r(114),exactEquals:r(115),add:r(116),subtract:r(60),sub:r(117),multiply:r(61),mul:r(118),divide:r(62),div:r(119),inverse:r(120),min:r(121),max:r(122),rotate:r(123),floor:r(124),ceil:r(125),round:r(126),scale:r(127),scaleAndAdd:r(128),distance:r(63),dist:r(129),squaredDistance:r(64),sqrDist:r(130),length:r(65),len:r(131),squaredLength:r(66),sqrLen:r(132),negate:r(133),normalize:r(134),dot:r(135),cross:r(136),lerp:r(137),random:r(138),transformMat2:r(139),transformMat2d:r(140),transformMat3:r(141),transformMat4:r(142),forEach:r(143),limit:r(144)}},function(t,e,r){"use strict";r.r(e),r.d(e,"imageRef",(function(){return l})),r.d(e,"computeIntegralImage2",(function(){return h})),r.d(e,"computeIntegralImage",(function(){return d})),r.d(e,"thresholdImage",(function(){return p})),r.d(e,"computeHistogram",(function(){return v})),r.d(e,"sharpenLine",(function(){return g})),r.d(e,"determineOtsuThreshold",(function(){return y})),r.d(e,"otsuThreshold",(function(){return m})),r.d(e,"computeBinaryImage",(function(){return b})),r.d(e,"cluster",(function(){return w})),r.d(e,"Tracer",(function(){return _})),r.d(e,"DILATE",(function(){return x})),r.d(e,"ERODE",(function(){return E})),r.d(e,"dilate",(function(){return A})),r.d(e,"erode",(function(){return R})),r.d(e,"subtract",(function(){return S})),r.d(e,"bitwiseOr",(function(){return O})),r.d(e,"countNonZero",(function(){return C})),r.d(e,"topGeneric",(function(){return k})),r.d(e,"grayArrayFromImage",(function(){return M})),r.d(e,"grayArrayFromContext",(function(){return T})),r.d(e,"grayAndHalfSampleFromCanvasData",(function(){return j})),r.d(e,"computeGray",(function(){return P})),r.d(e,"loadImageArray",(function(){return D})),r.d(e,"halfSample",(function(){return I})),r.d(e,"hsv2rgb",(function(){return L})),r.d(e,"_computeDivisors",(function(){return U})),r.d(e,"calculatePatchSize",(function(){return B})),r.d(e,"_parseCSSDimensionValues",(function(){return z})),r.d(e,"_dimensionsConverters",(function(){return N})),r.d(e,"computeImageArea",(function(){return F}));var n=r(7),o=r(100),i={clone:n.clone,dot:n.dot},a=function(t,e){var r=[],n={rad:0,vec:i.clone([0,0])},o={};function a(t){o[t.id]=t,r.push(t)}function u(){var t,e=0;for(t=0;t<r.length;t++)e+=r[t].rad;n.rad=e/r.length,n.vec=i.clone([Math.cos(n.rad),Math.sin(n.rad)])}return a(t),u(),{add:function(t){o[t.id]||(a(t),u())},fits:function(t){return Math.abs(i.dot(t.point.vec,n.vec))>e},getPoints:function(){return r},getCenter:function(){return n}}},u=function(t,e,r){return{rad:t[r],point:t,id:e}},s=r(9),c={clone:n.clone},f={clone:o.clone};function l(t,e){return{x:t,y:e,toVec2:function(){return c.clone([this.x,this.y])},toVec3:function(){return f.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function h(t,e){var r,n,o=t.data,i=t.size.x,a=t.size.y,u=e.data,s=0,c=0,f=0,l=0,h=0;for(f=i,s=0,n=1;n<a;n++)s+=o[c],u[f]+=s,c+=i,f+=i;for(c=0,f=1,s=0,r=1;r<i;r++)s+=o[c],u[f]+=s,c++,f++;for(n=1;n<a;n++)for(c=n*i+1,f=(n-1)*i+1,l=n*i,h=(n-1)*i,r=1;r<i;r++)u[c]+=o[c]+u[f]+u[l]-u[h],c++,f++,l++,h++}function d(t,e){for(var r=t.data,n=t.size.x,o=t.size.y,i=e.data,a=0,u=0;u<n;u++)a+=r[u],i[u]=a;for(var s=1;s<o;s++){a=0;for(var c=0;c<n;c++)a+=r[s*n+c],i[s*n+c]=a+i[(s-1)*n+c]}}function p(t,e,r){r||(r=t);for(var n=t.data,o=n.length,i=r.data;o--;)i[o]=n[o]<e?1:0}function v(t,e){e||(e=8);for(var r=t.data,n=r.length,o=8-e,i=new Int32Array(1<<e);n--;)i[r[n]>>o]++;return i}function g(t){var e,r,n=t.length,o=t[0],i=t[1];for(e=1;e<n-1;e++)r=t[e+1],t[e-1]=2*i-o-r&255,o=i,i=r;return t}function y(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=8-r;function o(t,r){for(var n=0,o=t;o<=r;o++)n+=e[o];return n}function i(t,r){for(var n=0,o=t;o<=r;o++)n+=o*e[o];return n}function a(){var n,a,u,c,f=[0],l=(1<<r)-1;e=v(t,r);for(var h=1;h<l;h++)0===(u=(n=o(0,h))*(a=o(h+1,l)))&&(u=1),c=i(0,h)*a-i(h+1,l)*n,f[h]=c*c/u;return s.a.maxIndex(f)}var u=a();return u<<n}function m(t,e){var r=y(t);return p(t,r,e),r}function b(t,e,r){d(t,e),r||(r=t);var n,o,i,a,u,s,c=t.data,f=r.data,l=t.size.x,h=t.size.y,p=e.data;for(n=0;n<=3;n++)for(o=0;o<l;o++)f[n*l+o]=0,f[(h-1-n)*l+o]=0;for(n=3;n<h-3;n++)for(o=0;o<=3;o++)f[n*l+o]=0,f[n*l+(l-1-o)]=0;for(n=4;n<h-3-1;n++)for(o=4;o<l-3;o++)i=p[(n-3-1)*l+(o-3-1)],a=p[(n-3-1)*l+(o+3)],u=p[(n+3)*l+(o-3-1)],s=(p[(n+3)*l+(o+3)]-u-a+i)/49,f[n*l+o]=c[n*l+o]>s+5?0:1}function w(t,e,r){var n,o,i,s,c=[];function f(t){var e=!1;for(o=0;o<c.length;o++)(i=c[o]).fits(t)&&(i.add(t),e=!0);return e}for(r||(r="rad"),n=0;n<t.length;n++)f(s=u(t[n],n,r))||c.push(a(s,e));return c}var _={trace:function(t,e){var r,n=[],o=[],i=0,a=0;function u(r,n){var o,i,a,u=Math.abs(e[1]/10),s=!1;var c,f,l=t[r];for(a=n?{x:l.x+e[0],y:l.y+e[1]}:{x:l.x-e[0],y:l.y-e[1]},o=t[i=n?r+1:r-1];o&&!0!=(f=a,s=(c=o).x>f.x-1&&c.x<f.x+1&&c.y>f.y-u&&c.y<f.y+u)&&Math.abs(o.y-l.y)<e[1];)o=t[i=n?i+1:i-1];return s?i:null}for(r=0;r<10;r++){for(a=i=Math.floor(Math.random()*t.length),(n=[]).push(t[a]);null!==(a=u(a,!0));)n.push(t[a]);if(i>0)for(a=i;null!==(a=u(a,!1));)n.push(t[a]);n.length>o.length&&(o=n)}return o}},x=1,E=2;function A(t,e){var r,n,o,i,a,u,s,c=t.data,f=e.data,l=t.size.y,h=t.size.x;for(r=1;r<l-1;r++)for(n=1;n<h-1;n++)a=r+1,s=n+1,o=c[(i=r-1)*h+(u=n-1)]+c[i*h+s]+c[r*h+n]+c[a*h+u]+c[a*h+s],f[r*h+n]=o>0?1:0}function R(t,e){var r,n,o,i,a,u,s,c=t.data,f=e.data,l=t.size.y,h=t.size.x;for(r=1;r<l-1;r++)for(n=1;n<h-1;n++)a=r+1,s=n+1,o=c[(i=r-1)*h+(u=n-1)]+c[i*h+s]+c[r*h+n]+c[a*h+u]+c[a*h+s],f[r*h+n]=5===o?1:0}function S(t,e,r){r||(r=t);for(var n=t.data.length,o=t.data,i=e.data,a=r.data;n--;)a[n]=o[n]-i[n]}function O(t,e,r){r||(r=t);for(var n=t.data.length,o=t.data,i=e.data,a=r.data;n--;)a[n]=o[n]||i[n]}function C(t){for(var e=t.data.length,r=t.data,n=0;e--;)n+=r[e];return n}function k(t,e,r){var n,o,i,a,u=0,s=0,c=[];for(n=0;n<e;n++)c[n]={score:0,item:null};for(n=0;n<t.length;n++)if((o=r.apply(this,[t[n]]))>s)for((i=c[u]).score=o,i.item=t[n],s=Number.MAX_VALUE,a=0;a<e;a++)c[a].score<s&&(s=c[a].score,u=a);return c}function M(t,e,r,n){r.drawImage(t,e,0,t.width,t.height),P(r.getImageData(e,0,t.width,t.height).data,n)}function T(t,e,r,n){P(t.getImageData(r.x,r.y,e.x,e.y).data,n)}function j(t,e,r){for(var n,o=0,i=e.x,a=Math.floor(t.length/4),u=e.x/2,s=0,c=e.x;i<a;){for(n=0;n<u;n++)r[s]=(.299*t[4*o+0]+.587*t[4*o+1]+.114*t[4*o+2]+(.299*t[4*(o+1)+0]+.587*t[4*(o+1)+1]+.114*t[4*(o+1)+2])+(.299*t[4*i+0]+.587*t[4*i+1]+.114*t[4*i+2])+(.299*t[4*(i+1)+0]+.587*t[4*(i+1)+1]+.114*t[4*(i+1)+2]))/4,s++,o+=2,i+=2;o+=c,i+=c}}function P(t,e,r){var n=t.length/4|0;if(r&&!0===r.singleChannel)for(var o=0;o<n;o++)e[o]=t[4*o+0];else for(var i=0;i<n;i++)e[i]=.299*t[4*i+0]+.587*t[4*i+1]+.114*t[4*i+2]}function D(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document&&document.createElement("canvas"),n=new Image;n.callback=e,n.onload=function(){r.width=this.width,r.height=this.height;var t=r.getContext("2d");t.drawImage(this,0,0);var e=new Uint8Array(this.width*this.height);t.drawImage(this,0,0),P(t.getImageData(0,0,this.width,this.height).data,e),this.callback(e,{x:this.width,y:this.height},this)},n.src=t}function I(t,e){for(var r=t.data,n=t.size.x,o=e.data,i=0,a=n,u=r.length,s=n/2,c=0;a<u;){for(var f=0;f<s;f++)o[c]=Math.floor((r[i]+r[i+1]+r[a]+r[a+1])/4),c++,i+=2,a+=2;i+=n,a+=n}}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=t[0],n=t[1],o=t[2],i=o*n,a=i*(1-Math.abs(r/60%2-1)),u=o-i,s=0,c=0,f=0;return r<60?(s=i,c=a):r<120?(s=a,c=i):r<180?(c=i,f=a):r<240?(c=a,f=i):r<300?(s=a,f=i):r<360&&(s=i,f=a),e[0]=255*(s+u)|0,e[1]=255*(c+u)|0,e[2]=255*(f+u)|0,e}function U(t){for(var e=[],r=[],n=1;n<Math.sqrt(t)+1;n++)t%n==0&&(r.push(n),n!==t/n&&e.unshift(Math.floor(t/n)));return r.concat(e)}function B(t,e){var r,n=U(e.x),o=U(e.y),i=Math.max(e.x,e.y),a=function(t,e){for(var r=0,n=0,o=[];r<t.length&&n<e.length;)t[r]===e[n]?(o.push(t[r]),r++,n++):t[r]>e[n]?n++:r++;return o}(n,o),u=[8,10,15,20,32,60,80],s={"x-small":5,small:4,medium:3,large:2,"x-large":1},c=s[t]||s.medium,f=u[c],l=Math.floor(i/f);function h(t){for(var e=0,r=t[Math.floor(t.length/2)];e<t.length-1&&t[e]<l;)e++;return e>0&&(r=Math.abs(t[e]-l)>Math.abs(t[e-1]-l)?t[e-1]:t[e]),l/r<u[c+1]/u[c]&&l/r>u[c-1]/u[c]?{x:r,y:r}:null}return(r=h(a))||(r=h(U(i)))||(r=h(U(l*f))),r}function z(t){return{value:parseFloat(t),unit:(t.indexOf("%"),t.length,"%")}}var N={top:function(t,e){return"%"===t.unit?Math.floor(e.height*(t.value/100)):null},right:function(t,e){return"%"===t.unit?Math.floor(e.width-e.width*(t.value/100)):null},bottom:function(t,e){return"%"===t.unit?Math.floor(e.height-e.height*(t.value/100)):null},left:function(t,e){return"%"===t.unit?Math.floor(e.width*(t.value/100)):null}};function F(t,e,r){var n={width:t,height:e},o=Object.keys(r).reduce((function(t,e){var o=z(r[e]),i=N[e](o,n);return t[e]=i,t}),{});return{sx:o.left,sy:o.top,sw:o.right-o.left,sh:o.bottom-o.top}}},function(t,e,r){"use strict";e.a={init:function(t,e){for(var r=t.length;r--;)t[r]=e},shuffle:function(t){for(var e=t.length-1;e>=0;e--){var r=Math.floor(Math.random()*e),n=t[e];t[e]=t[r],t[r]=n}return t},toPointList:function(t){var e=t.reduce((function(t,e){var r="[".concat(e.join(","),"]");return t.push(r),t}),[]);return"[".concat(e.join(",\r\n"),"]")},threshold:function(t,e,r){return t.reduce((function(n,o){return r.apply(t,[o])>=e&&n.push(o),n}),[])},maxIndex:function(t){for(var e=0,r=0;r<t.length;r++)t[r]>t[e]&&(e=r);return e},max:function(t){for(var e=0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return e},sum:function(t){for(var e=t.length,r=0;e--;)r+=t[e];return r}}},function(t,e,r){"use strict";var n=r(39),o=r.n(n),i=r(3),a=r.n(i),u=r(4),s=r.n(u),c=r(0),f=r.n(c),l=r(7),h=r(8),d=r(9),p={clone:l.clone};function v(t){if(t<0)throw new Error("expected positive number, received ".concat(t))}var g=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,o=arguments.length>3?arguments[3]:void 0;a()(this,t),f()(this,"data",void 0),f()(this,"size",void 0),f()(this,"indexMapping",void 0),r?this.data=r:(this.data=new n(e.x*e.y),o&&d.a.init(this.data,0)),this.size=e}return s()(t,[{key:"inImageWithBorder",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v(e),t.x>=0&&t.y>=0&&t.x<this.size.x+2*e&&t.y<this.size.y+2*e}},{key:"subImageAsCopy",value:function(t,e){v(e.x),v(e.y);for(var r=t.size,n=r.x,o=r.y,i=0;i<n;i++)for(var a=0;a<o;a++)t.data[a*n+i]=this.data[(e.y+a)*this.size.x+e.x+i];return t}},{key:"get",value:function(t,e){return this.data[e*this.size.x+t]}},{key:"getSafe",value:function(t,e){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var r=0;r<this.size.x;r++)this.indexMapping.x[r]=r,this.indexMapping.x[r+this.size.x]=r;for(var n=0;n<this.size.y;n++)this.indexMapping.y[n]=n,this.indexMapping.y[n+this.size.y]=n}return this.data[this.indexMapping.y[e+this.size.y]*this.size.x+this.indexMapping.x[t+this.size.x]]}},{key:"set",value:function(t,e,r){return this.data[e*this.size.x+t]=r,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var t=this.size,e=t.x,r=t.y,n=0;n<e;n++)this.data[n]=this.data[(r-1)*e+n]=0;for(var o=1;o<r-1;o++)this.data[o*e]=this.data[o*e+(e-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(t){var e,r,n,o,i,a,u,s,c,f,l=this.data,h=this.size.y,d=this.size.x,v=[],g=[],y=Math.PI,m=y/4;if(t<=0)return g;for(i=0;i<t;i++)v[i]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(r=0;r<h;r++)for(o=r*r,e=0;e<d;e++)(n=l[r*d+e])>0&&((a=v[n-1]).m00+=1,a.m01+=r,a.m10+=e,a.m11+=e*r,a.m02+=o,a.m20+=e*e);for(i=0;i<t;i++)a=v[i],isNaN(a.m00)||0===a.m00||(s=a.m10/a.m00,c=a.m01/a.m00,u=a.m11/a.m00-s*c,f=(a.m02/a.m00-c*c-(a.m20/a.m00-s*s))/(2*u),f=.5*Math.atan(f)+(u>=0?m:-m)+y,a.theta=(180*f/y+90)%180-90,a.theta<0&&(a.theta+=180),a.rad=f>y?f-y:f,a.vec=p.clone([Math.cos(f),Math.sin(f)]),g.push(a));return g}},{key:"getAsRGBA",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new Uint8ClampedArray(4*this.size.x*this.size.y),r=0;r<this.size.y;r++)for(var n=0;n<this.size.x;n++){var o=r*this.size.x+n,i=this.get(n,r)*t;e[4*o+0]=i,e[4*o+1]=i,e[4*o+2]=i,e[4*o+3]=255}return e}},{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.getContext("2d");if(!r)throw new Error("Unable to get canvas context");var n=r.getImageData(0,0,t.width,t.height),o=this.getAsRGBA(e);t.width=this.size.x,t.height=this.size.y;var i=new ImageData(o,n.width,n.height);r.putImageData(i,0,0)}},{key:"overlay",value:function(t,e,r){var n=e<0||e>360?360:e,i=[0,1,1],a=[0,0,0],u=[255,255,255],s=[0,0,0],c=t.getContext("2d");if(!c)throw new Error("Unable to get canvas context");for(var f=c.getImageData(r.x,r.y,this.size.x,this.size.y),l=f.data,d=this.data.length;d--;){i[0]=this.data[d]*n;var p=4*d,v=i[0]<=0?u:i[0]>=360?s:Object(h.hsv2rgb)(i,a),g=o()(v,3);l[p]=g[0],l[p+1]=g[1],l[p+2]=g[2],l[p+3]=255}c.putImageData(f,r.x,r.y)}}]),t}();e.a=g},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||f||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(38),o=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var i=Object.create(r(27));i.inherits=r(22);var a=r(94),u=r(55);i.inherits(l,a);for(var s=o(u.prototype),c=0;c<s.length;c++){var f=s[c];l.prototype[f]||(l.prototype[f]=u.prototype[f])}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),u.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){"use strict";e.a={drawRect:function(t,e,r,n){r.strokeStyle=n.color,r.fillStyle=n.color,r.lineWidth=n.lineWidth||1,r.beginPath(),r.strokeRect(t.x,t.y,e.x,e.y)},drawPath:function(t,e,r,n){r.strokeStyle=n.color,r.fillStyle=n.color,r.lineWidth=n.lineWidth,r.beginPath(),r.moveTo(t[0][e.x],t[0][e.y]);for(var o=1;o<t.length;o++)r.lineTo(t[o][e.x],t[o][e.y]);r.closePath(),r.stroke()},drawImage:function(t,e,r){var n=r.getImageData(0,0,e.x,e.y),o=n.data,i=o.length,a=t.length;if(i/a!=4)return!1;for(;a--;){var u=t[a];o[--i]=255,o[--i]=u,o[--i]=u,o[--i]=u}return r.putImageData(n,0,0),!0}}},function(t,e,r){var n=r(179),o=r(234)((function(t,e,r){n(t,e,r)}));t.exports=o},function(t,e,r){var n=r(244);function o(e,r,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,r){var o=n(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(r):i.value}},o(e,r,i||e)}t.exports=o},function(t,e,r){t.exports=r(245)},function(t,e,r){var n=r(80),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e,r){"use strict";e.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(t,e){var r,n=t.data,o=e.data,i=this.searchDirections,a=t.size.x;function u(t,e,u,s){var c,f,l;for(c=0;c<7;c++){if(f=t.cy+i[t.dir][0],l=t.cx+i[t.dir][1],n[r=f*a+l]===e&&(0===o[r]||o[r]===u))return o[r]=u,t.cy=f,t.cx=l,!0;0===o[r]&&(o[r]=s),t.dir=(t.dir+1)%8}return!1}function s(t,e,r){return{dir:r,x:t,y:e,next:null,prev:null}}return{trace:function(t,e,r,n){return u(t,e,r,n)},contourTracing:function(t,e,r,n,o){return function(t,e,r,n,o){var i,a,c,f=null,l={cx:e,cy:t,dir:0};if(u(l,n,r,o)){i=f=s(e,t,l.dir),c=l.dir,(a=s(l.cx,l.cy,0)).prev=i,i.next=a,a.next=null,i=a;do{l.dir=(l.dir+6)%8,u(l,n,r,o),c!==l.dir?(i.dir=l.dir,(a=s(l.cx,l.cy,0)).prev=i,i.next=a,a.next=null,i=a):(i.dir=c,i.x=l.cx,i.y=l.cy),c=l.dir}while(l.cx!==e||l.cy!==t);f.prev=i.prev,i.prev.next=f}return f}(t,e,r,n,o)}}}}},function(t,e,r){var n=r(32),o=r(192),i=r(193),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(277),o=r(278),i=r(279);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=h(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),o=(t=u(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(s.isBuffer(e)){var r=0|d(e.length);return 0===(t=u(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?u(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=u(t,e<0?0:0|d(e)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|d(e.length);t=u(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(t).length;default:if(n)return N(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return R(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,o);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,o){var i,a=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var f=-1;for(i=r;i<u;i++)if(c(t,i)===c(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===s)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){for(var l=!0,h=0;h<s;h++)if(c(t,i+h)!==c(e,h)){l=!1;break}if(l)return i}return-1}function b(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[r+a]=u}return a}function w(t,e,r,n){return W(N(e,t.length-r),t,r,n)}function _(t,e,r,n){return W(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return _(t,e,r,n)}function E(t,e,r,n){return W(F(e),t,r,n)}function A(t,e,r,n){return W(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function R(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,u,s,c=t[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=t[o+1]))&&(s=(31&c)<<6|63&i)>127&&(f=s);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(s=(15&c)<<12|(63&i)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:i=t[o+1],a=t[o+2],u=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,r){return c(null,t,e,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?u(t,e):void 0!==r?"string"==typeof n?u(t,e).fill(r,n):u(t,e).fill(r):u(t,e)}(null,t,e,r)},s.allocUnsafe=function(t){return l(null,t)},s.allocUnsafeSlow=function(t){return l(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,n,o){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(i,a),c=this.slice(n,o),f=t.slice(e,r),l=0;l<u;++l)if(c[l]!==f[l]){i=c[l],a=f[l];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function C(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function k(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=z(t[i]);return o}function M(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function T(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,n,o,i){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function I(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,i){return i||I(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,i){return i||I(t,0,r,8),o.write(t,e,r,n,52,8),r+8}s.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=s.prototype;else{var o=e-t;r=new s(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},s.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},s.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},s.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),o.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),o.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),o.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),o.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||j(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);j(this,t,e,r,o-1,-o)}var i=0,a=1,u=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);j(this,t,e,r,o-1,-o)}var i=r-1,a=1,u=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=s.isBuffer(t)?t:N(new s(t,n).toString()),u=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%u]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function F(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(11))},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(26).Buffer)},function(t,e,r){"use strict";(function(t){var n,o,i,a,u,s,c,f,l,h,d,p,v=r(7),g=r(42),y=r(10),m=r(8),b=r(9),w=(r(16),r(102)),_=r(24),x=r(103),E={ctx:{binary:null},dom:{binary:null}},A={x:0,y:0};function R(t){var e,r,o,i,a,u,s,c=l.size.x,f=l.size.y,h=-l.size.x,d=-l.size.y;for(e=0,r=0;r<t.length;r++)e+=(i=t[r]).rad;for((e=(180*(e/=t.length)/Math.PI+90)%180-90)<0&&(e+=180),e=(180-e)*Math.PI/180,a=g.copy(g.create(),[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e)]),r=0;r<t.length;r++){for(i=t[r],o=0;o<4;o++)v.transformMat2(i.box[o],i.box[o],a);0}for(r=0;r<t.length;r++)for(i=t[r],o=0;o<4;o++)i.box[o][0]<c&&(c=i.box[o][0]),i.box[o][0]>h&&(h=i.box[o][0]),i.box[o][1]<f&&(f=i.box[o][1]),i.box[o][1]>d&&(d=i.box[o][1]);for(u=[[c,f],[h,f],[h,d],[c,d]],s=n.halfSample?2:1,a=g.invert(a,a),o=0;o<4;o++)v.transformMat2(u[o],u[o],a);for(o=0;o<4;o++)v.scale(u[o],u[o],s);return u}function S(t,e){l.subImageAsCopy(a,Object(m.imageRef)(t,e)),p.skeletonize()}function O(t,e,r,n){var o,i,u,s,c=[],f=[],l=Math.ceil(h.x/3);if(t.length>=2){for(o=0;o<t.length;o++)t[o].m00>l&&c.push(t[o]);if(c.length>=2){for(u=function(t){var e=Object(m.cluster)(t,.9),r=Object(m.topGeneric)(e,1,(function(t){return t.getPoints().length})),n=[],o=[];if(1===r.length){n=r[0].item.getPoints();for(var i=0;i<n.length;i++)o.push(n[i].point)}return o}(c),i=0,o=0;o<u.length;o++)i+=u[o].rad;u.length>1&&u.length>=c.length/4*3&&u.length>t.length/4&&(i/=u.length,s={index:e[1]*A.x+e[0],pos:{x:r,y:n},box:[v.clone([r,n]),v.clone([r+a.size.x,n]),v.clone([r+a.size.x,n+a.size.y]),v.clone([r,n+a.size.y])],moments:u,rad:i,vec:v.clone([Math.cos(i),Math.sin(i)])},f.push(s))}}return f}e.a={init:function(e,r){n=r,d=e,function(){o=n.halfSample?new y.a({x:d.size.x/2|0,y:d.size.y/2|0}):d,h=Object(m.calculatePatchSize)(n.patchSize,o.size),A.x=o.size.x/h.x|0,A.y=o.size.y/h.y|0,l=new y.a(o.size,void 0,Uint8Array,!1),u=new y.a(h,void 0,Array,!0);var e=new ArrayBuffer(65536);a=new y.a(h,new Uint8Array(e,0,h.x*h.y)),i=new y.a(h,new Uint8Array(e,h.x*h.y*3,h.x*h.y),void 0,!0),p=Object(x.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:t,{size:h.x},e),f=new y.a({x:o.size.x/a.size.x|0,y:o.size.y/a.size.y|0},void 0,Array,!0),s=new y.a(f.size,void 0,void 0,!0),c=new y.a(f.size,void 0,Int32Array,!0)}(),n.useWorker||"undefined"==typeof document||(E.dom.binary=document.createElement("canvas"),E.dom.binary.className="binaryBuffer",E.ctx.binary=E.dom.binary.getContext("2d"),E.dom.binary.width=l.size.x,E.dom.binary.height=l.size.y)},locate:function(){n.halfSample&&Object(m.halfSample)(d,o),Object(m.otsuThreshold)(o,l),l.zeroBorder();var t=function(){var t,e,r,n,o,s,c=[];for(t=0;t<A.x;t++)for(e=0;e<A.y;e++)S(r=a.size.x*t,n=a.size.y*e),i.zeroBorder(),b.a.init(u.data,0),s=w.a.create(i,u).rasterize(0),o=u.moments(s.count),c=c.concat(O(o,[t,e],r,n));return c}();if(t.length<A.x*A.y*.05)return null;var e=function(t){var e,r,n=0,o=0;function i(){var t;for(t=0;t<c.data.length;t++)if(0===c.data[t]&&1===s.data[t])return t;return c.length}function a(t){var e,r,o,i,u,l=t%c.size.x,h=t/c.size.x|0;if(t<c.data.length)for(o=f.data[t],c.data[t]=n,u=0;u<_.a.searchDirections.length;u++)r=h+_.a.searchDirections[u][0],e=l+_.a.searchDirections[u][1],i=r*c.size.x+e,0!==s.data[i]?0===c.data[i]&&Math.abs(v.dot(f.data[i].vec,o.vec))>.95&&a(i):c.data[i]=Number.MAX_VALUE}for(b.a.init(s.data,0),b.a.init(c.data,0),b.a.init(f.data,null),e=0;e<t.length;e++)r=t[e],f.data[r.index]=r,s.data[r.index]=1;for(s.zeroBorder();(o=i())<c.data.length;)n++,a(o);return n}(t);if(e<1)return null;var r=function(t){var e,r,n=[];for(e=0;e<t;e++)n.push(0);for(r=c.data.length;r--;)c.data[r]>0&&n[c.data[r]-1]++;return(n=n.map((function(t,e){return{val:t,label:e+1}}))).sort((function(t,e){return e.val-t.val})),n.filter((function(t){return t.val>=5}))}(e);return 0===r.length?null:function(t,e){var r,n,o,i,a=[],u=[];for(r=0;r<t.length;r++){for(n=c.data.length,a.length=0;n--;)c.data[n]===t[r].label&&(o=f.data[n],a.push(o));(i=R(a))&&u.push(i)}return u}(r)},checkImageConstraints:function(t,e){var r,n,o=t.getWidth(),i=t.getHeight(),a=e.halfSample?.5:1;t.getConfig().area&&(n=Object(m.computeImageArea)(o,i,t.getConfig().area),t.setTopRight({x:n.sx,y:n.sy}),t.setCanvasSize({x:o,y:i}),o=n.sw,i=n.sh);var u={x:Math.floor(o*a),y:Math.floor(i*a)};if(r=Object(m.calculatePatchSize)(e.patchSize,u),t.setWidth(Math.floor(Math.floor(u.x/r.x)*(1/a)*r.x)),t.setHeight(Math.floor(Math.floor(u.y/r.y)*(1/a)*r.y)),t.getWidth()%r.x==0&&t.getHeight()%r.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(o," )and height (").concat(i,") must a multiple of ").concat(r.x))}}}).call(this,r(11))},function(t,e,r){var n=r(181),o=r(182),i=r(183),a=r(184),u=r(185);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(31);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){var n=r(20).Symbol;t.exports=n},function(t,e,r){var n=r(43)(Object,"create");t.exports=n},function(t,e,r){var n=r(206);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},function(t,e,r){var n=r(221),o=r(21),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,r){var n=r(13),o=r(249),i=r(250),a=r(253);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e,r){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,u=arguments.length;switch(u){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,o)}));default:for(i=new Array(u-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick((function(){t.apply(null,i)}))}}}:t.exports=e}).call(this,r(14))},function(t,e,r){var n=r(107),o=r(108),i=r(56),a=r(109);t.exports=function(t,e){return n(t)||o(t,e)||i(t,e)||a()}},function(t,e,r){var n=r(241),o=r(242),i=r(56),a=r(243);t.exports=function(t){return n(t)||o(t)||i(t)||a()}},function(t,e){function r(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,s,"next",t)}function s(t){r(a,o,i,u,s,"throw",t)}u(void 0)}))}}},function(t,e,r){t.exports={determinant:r(265),transpose:r(266),multiply:r(267),identity:r(268),adjoint:r(269),rotate:r(270),invert:r(271),create:r(272),scale:r(273),copy:r(274),frob:r(275),ldu:r(276)}},function(t,e,r){var n=r(191),o=r(197);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},function(t,e,r){var n=r(25),o=r(12);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){var n=r(83);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){var n=r(44),o=r(48);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,r){var n=r(25),o=r(21);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},function(t,e,r){var n=r(49);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,r){var n=r(281),o=r(282),i="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function u(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(a);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}function s(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var o="generic"===t;if(-1===e){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(i)()}if(0===e){i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",i)(c[t][0])}i=["'use strict'"];var a=n(e),s=a.map((function(t){return"i"+t})),f="this.offset+"+a.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),l=a.map((function(t){return"b"+t})).join(","),h=a.map((function(t){return"c"+t})).join(",");i.push("function "+r+"(a,"+l+","+h+",d){this.data=a","this.shape=["+l+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+r+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+s.join(",")+",v){"),o?i.push("return this.data.set("+f+",v)}"):i.push("return this.data["+f+"]=v}"),i.push("proto.get=function "+r+"_get("+s.join(",")+"){"),o?i.push("return this.data.get("+f+")}"):i.push("return this.data["+f+"]}"),i.push("proto.index=function "+r+"_index(",s.join(),"){return "+f+"}"),i.push("proto.hi=function "+r+"_hi("+s.join(",")+"){return new "+r+"(this.data,"+a.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+a.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var d=a.map((function(t){return"a"+t+"=this.shape["+t+"]"})),p=a.map((function(t){return"c"+t+"=this.stride["+t+"]"}));i.push("proto.lo=function "+r+"_lo("+s.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var v=0;v<e;++v)i.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");i.push("return new "+r+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"c"+t})).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+s.join(",")+"){var "+a.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+a.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(v=0;v<e;++v)i.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");i.push("return new "+r+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"b"+t})).join(",")+",c)}");var g=new Array(e),y=new Array(e);for(v=0;v<e;++v)g[v]="a[i"+v+"]",y[v]="b[i"+v+"]";i.push("proto.transpose=function "+r+"_transpose("+s+"){"+s.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+s+"){var a=[],b=[],c=this.offset");for(v=0;v<e;++v)i.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map((function(t){return"shape["+t+"]"})).join(",")+","+a.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(c[t],u)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,e,r,n){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===r){r=new Array(a);for(var u=a-1,f=1;u>=0;--u)r[u]=f,f*=e[u]}if(void 0===n){n=0;for(u=0;u<a;++u)r[u]<0&&(n-=(e[u]-1)*r[u])}for(var l=function(t){if(o(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),h=c[l];h.length<=a+1;)h.push(s(l,h.length-1));return(0,h[a+1])(t,e,r,n)}},function(t,e,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function u(){u.init.call(this)}t.exports=u,t.exports.once=function(t,e){return new Promise((function(r,n){function o(){void 0!==i&&t.removeListener("error",i),r([].slice.call(arguments))}var i;"error"!==e&&(i=function(r){t.removeListener(e,o),n(r)},t.once("error",i)),t.once(e,o)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var s=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function l(t,e,r,n){var o,i,a,u;if(c(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),void 0===a)a=i[e]=r,++t._eventsCount;else if("function"==typeof a?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=f(t))>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,u=s,console&&console.warn&&console.warn(u)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=h.bind(n);return o.listener=r,n.wrapFn=o,o}function p(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):g(o,o.length)}function v(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var u=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw u.context=a,u}var s=o[t];if(void 0===s)return!1;if("function"==typeof s)i(s,this,e);else{var c=s.length,f=g(s,c);for(r=0;r<c;++r)i(f[r],this,e)}return!0},u.prototype.addListener=function(t,e){return l(this,t,e,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,e){return l(this,t,e,!0)},u.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},u.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},u.prototype.removeListener=function(t,e){var r,n,o,i,a;if(c(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},u.prototype.listeners=function(t){return p(this,t,!0)},u.prototype.rawListeners=function(t){return p(this,t,!1)},u.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},u.prototype.listenerCount=v,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){(e=t.exports=r(94)).Stream=e,e.Readable=e,e.Writable=r(55),e.Duplex=r(15),e.Transform=r(98),e.PassThrough=r(300)},function(t,e,r){var n=r(26),o=n.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a),i(o,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";(function(e,n,o){var i=r(38);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var o=n.callback;e.pendingcb--,o(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=m;var u,s=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:i.nextTick;m.WritableState=y;var c=Object.create(r(27));c.inherits=r(22);var f={deprecate:r(298)},l=r(95),h=r(54).Buffer,d=o.Uint8Array||function(){};var p,v=r(96);function g(){}function y(t,e){u=u||r(15),t=t||{};var n=e instanceof u;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,c=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,o=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,o){--e.pendingcb,r?(i.nextTick(o,n),i.nextTick(A,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(o(n),t._writableState.errorEmitted=!0,t.emit("error",n),A(t,e))}(t,r,n,e,o);else{var a=x(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(t,r),n?s(w,t,r,a,o):w(t,r,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function m(t){if(u=u||r(15),!(p.call(m,this)||this instanceof u))return new m(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function b(t,e,r,n,o,i,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function w(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),A(t,e)}function _(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),i=e.corkedRequestsFree;i.entry=r;for(var u=0,s=!0;r;)o[u]=r,r.isBuf||(s=!1),r=r.next,u+=1;o.allBuffers=s,b(t,e,!0,e.length,o,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(b(t,e,!1,e.objectMode?1:c.length,c,f,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),A(t,e)}))}function A(t,e){var r=x(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}c.inherits(m,l),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===m&&(t&&t._writableState instanceof y)}})):p=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,r){var n,o=this._writableState,a=!1,u=!o.objectMode&&(n=t,h.isBuffer(n)||n instanceof d);return u&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(r=e,e=null),u?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),i.nextTick(e,r)}(this,r):(u||function(t,e,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,t,r))&&(o.pendingcb++,a=function(t,e,r,n,o,i){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,r));return e}(e,n,o);n!==a&&(r=!0,o="buffer",n=a)}var u=e.objectMode?1:n.length;e.length+=u;var s=e.length<e.highWaterMark;s||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,u,n,o,i);return s}(this,o,u,t,e,r)),a},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,A(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=v.destroy,m.prototype._undestroy=v.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(14),r(296).setImmediate,r(11))},function(t,e,r){var n=r(57);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}},function(t,e){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}},function(t,e){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}},function(t,e){t.exports=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}},function(t,e){t.exports=function(t){var e=t[0],r=t[1];return e*e+r*r}},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(t,e){t.exports=function(t,e,r){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],o=e[2],i=r*r+n*n+o*o;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}},function(t,e){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}},function(t,e){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}},function(t,e,r){var n=r(43)(r(20),"Map");t.exports=n},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(11))},function(t,e,r){var n=r(198),o=r(205),i=r(207),a=r(208),u=r(209);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(45),o=r(31);t.exports=function(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},function(t,e,r){var n=r(43),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,r){var n=r(220)(Object.getPrototypeOf,Object);t.exports=n},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,r){(function(t){var n=r(20),o=r(223),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s}).call(this,r(46)(t))},function(t,e,r){var n=r(225),o=r(226),i=r(227),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,r){var n=r(45),o=r(31),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e,r){var n=r(230),o=r(232),i=r(47);t.exports=function(t){return i(t)?n(t,!0):o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(236),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=r(s),n(t,this,c)}}},function(t,e,r){var n=r(237),o=r(239)(n);t.exports=o},function(t,e,r){"use strict";(function(e,n){var o=r(38);t.exports=b;var i,a=r(292);b.ReadableState=m;r(52).EventEmitter;var u=function(t,e){return t.listeners(e).length},s=r(95),c=r(54).Buffer,f=e.Uint8Array||function(){};var l=Object.create(r(27));l.inherits=r(22);var h=r(293),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,v=r(294),g=r(96);l.inherits(b,s);var y=["error","close","destroy","pause","resume"];function m(t,e){t=t||{};var n=e instanceof(i=i||r(15));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,a=t.readableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(a||0===a)?a:u,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r(97).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(i=i||r(15),!(this instanceof b))return new b(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function w(t,e,r,n,o){var i,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,E(t)}(t,a)):(o||(i=function(t,e){var r;n=e,c.isBuffer(n)||n instanceof f||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,e)),i?t.emit("error",i):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?_(t,a,e,!1):R(t,a)):_(t,a,e,!1))):n||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function _(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&E(t)),R(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),w(this,t,e,!1,r)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=r(97).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(A,t):A(t))}function A(t){d("emit readable"),t.emit("readable"),k(t)}function R(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(S,t,e))}function S(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function O(t){d("readable nexttick read 0"),t.read(0)}function C(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,o=r.data;t-=o.length;for(;r=r.next;){var i=r.data,a=t>i.length?i.length:t;if(a===i.length?o+=i:o+=i.slice(0,t),0===(t-=a)){a===i.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=i.slice(a));break}++n}return e.length-=n,o}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,o=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var i=n.data,a=t>i.length?i.length:t;if(i.copy(r,r.length-t,0,a),0===(t-=a)){a===i.length?(++o,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(a));break}++o}return e.length-=o,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function T(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(j,e,t))}function j(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function P(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?T(this):E(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&T(this),null;var n,o=e.needReadable;return d("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",o=!0),e.ended||e.reading?d("reading or ended",o=!1):o&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(r,e))),null===(n=t>0?M(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&T(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:b;function c(e,n){d("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),t.removeListener("close",y),t.removeListener("finish",m),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",c),r.removeListener("end",f),r.removeListener("end",b),r.removeListener("data",v),h=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function f(){d("onend"),t.end()}i.endEmitted?o.nextTick(s):r.once("end",s),t.on("unpipe",c);var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&u(t,"data")&&(e.flowing=!0,k(t))}}(r);t.on("drain",l);var h=!1;var p=!1;function v(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==P(i.pipes,t))&&!h&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(e){d("onerror",e),b(),t.removeListener("error",g),0===u(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",m),b()}function m(){d("onfinish"),t.removeListener("close",y),b()}function b(){d("unpipe"),r.unpipe(t)}return r.on("data",v),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",y),t.once("finish",m),t.emit("pipe",r),i.flowing||(d("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,r);return this}var a=P(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},b.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):o.nextTick(O,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(C,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var o in t.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){(d("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var i=0;i<y.length;i++)t.on(y[i],this.emit.bind(this,y[i]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=M}).call(this,r(11),r(14))},function(t,e,r){t.exports=r(52).EventEmitter},function(t,e,r){"use strict";var n=r(38);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(n.nextTick(o,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";var n=r(299).Buffer,o=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=s,this.end=c,e=4;break;case"utf8":this.fillLast=u,e=4;break;case"base64":this.text=f,this.end=l,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function u(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},i.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var o=a(e[n]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--n<r||-2===o)return 0;if((o=a(e[n]))>=0)return o>0&&(t.lastNeed=o-2),o;if(--n<r||-2===o)return 0;if((o=a(e[n]))>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";t.exports=a;var n=r(15),o=Object.create(r(27));function i(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);n.call(this,t),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",u)}function u(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(this,null,null)}function s(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=r(22),o.inherits(a,n),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},function(t,e,r){var n=r(8),o=r(51),i=r(306).d2,a={create:function(t){var e={},r=n.imageRef(t.getRealWidth(),t.getRealHeight()),a=t.getCanvasSize(),u=n.imageRef(t.getWidth(),t.getHeight()),s=t.getTopRight(),c=new Uint8Array(u.x*u.y),f=new Uint8Array(r.x*r.y),l=new Uint8Array(a.x*a.y),h=o(f,[r.y,r.x]).transpose(1,0),d=o(l,[a.y,a.x]).transpose(1,0),p=d.hi(s.x+u.x,s.y+u.y).lo(s.x,s.y),v=r.x/a.x,g=r.y/a.y;return e.attachData=function(t){c=t},e.getData=function(){return c},e.grab=function(){var e=t.getFrame();return!!e&&(this.scaleAndCrop(e),!0)},e.scaleAndCrop=function(t){n.computeGray(t.data,f);for(var e=0;e<a.y;e++)for(var r=0;r<a.x;r++)d.set(r,e,0|i(h,r*v,e*g));if(p.shape[0]!==u.x||p.shape[1]!==u.y)throw new Error("Shapes do not match!");for(var o=0;o<u.y;o++)for(var s=0;s<u.x;s++)c[o*u.x+s]=p.get(s,o)},e.getSize=function(){return u},e}};t.exports=a},function(t,e,r){t.exports={EPSILON:r(67),create:r(68),clone:r(145),angle:r(146),fromValues:r(69),copy:r(147),set:r(148),equals:r(149),exactEquals:r(150),add:r(151),subtract:r(72),sub:r(152),multiply:r(73),mul:r(153),divide:r(74),div:r(154),min:r(155),max:r(156),floor:r(157),ceil:r(158),round:r(159),scale:r(160),scaleAndAdd:r(161),distance:r(75),dist:r(162),squaredDistance:r(76),sqrDist:r(163),length:r(77),len:r(164),squaredLength:r(78),sqrLen:r(165),negate:r(166),inverse:r(167),normalize:r(70),dot:r(71),cross:r(168),lerp:r(169),random:r(170),transformMat4:r(171),transformMat3:r(172),transformQuat:r(173),rotateX:r(174),rotateY:r(175),rotateZ:r(176),forEach:r(177)}},function(t,e,r){var n=r(246),o=r(260)((function(t,e){return null==t?{}:n(t,e)}));t.exports=o},function(t,e,r){"use strict";var n=r(24),o={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(t,e){var r=t.data,i=e.data,a=t.size.x,u=t.size.y,s=n.a.create(t,e);return{rasterize:function(t){var e,n,c,f,l,h,d,p,v,g,y,m,b=[],w=0;for(m=0;m<400;m++)b[m]=0;for(b[0]=r[0],v=null,h=1;h<u-1;h++)for(f=0,n=b[0],l=1;l<a-1;l++)if(0===i[y=h*a+l])if((e=r[y])!==n){if(0===f)b[c=w+1]=e,n=e,null!==(d=s.contourTracing(h,l,c,e,o.DIR.OUTSIDE_EDGE))&&(w++,f=c,(p=o.createContour2D()).dir=o.CONTOUR_DIR.CW_DIR,p.index=f,p.firstVertex=d,p.nextpeer=v,p.insideContours=null,null!==v&&(v.prevpeer=p),v=p);else if(null!==(d=s.contourTracing(h,l,o.DIR.INSIDE_EDGE,e,f))){for((p=o.createContour2D()).firstVertex=d,p.insideContours=null,p.dir=0===t?o.CONTOUR_DIR.CCW_DIR:o.CONTOUR_DIR.CW_DIR,p.index=t,g=v;null!==g&&g.index!==f;)g=g.nextpeer;null!==g&&(p.nextpeer=g.insideContours,null!==g.insideContours&&(g.insideContours.prevpeer=p),g.insideContours=p)}}else i[y]=f;else i[y]===o.DIR.OUTSIDE_EDGE||i[y]===o.DIR.INSIDE_EDGE?(f=0,n=i[y]===o.DIR.INSIDE_EDGE?r[y]:b[0]):n=b[f=i[y]];for(g=v;null!==g;)g.index=t,g=g.nextpeer;return{cc:v,count:w}},debug:{drawContour:function(t,e){var r,n,i,a=t.getContext("2d"),u=e;for(a.strokeStyle="red",a.fillStyle="red",a.lineWidth=1,r=null!==u?u.insideContours:null;null!==u;){switch(null!==r?(n=r,r=r.nextpeer):(n=u,r=null!==(u=u.nextpeer)?u.insideContours:null),n.dir){case o.CONTOUR_DIR.CW_DIR:a.strokeStyle="red";break;case o.CONTOUR_DIR.CCW_DIR:a.strokeStyle="blue";break;case o.CONTOUR_DIR.UNKNOWN_DIR:a.strokeStyle="green"}i=n.firstVertex,a.beginPath(),a.moveTo(i.x,i.y);do{i=i.next,a.lineTo(i.x,i.y)}while(i!==n.firstVertex);a.stroke()}}}}}};e.a=o},function(t,e,r){"use strict";
/* @preserve ASM BEGIN */
/* @preserve ASM END */e.a=function(t,e,r){"use asm";var n=new t.Uint8Array(r),o=e.size|0,i=t.Math.imul;function a(t,e){t|=0;e|=0;var r=0;var i=0;var a=0;var u=0;var s=0;var c=0;var f=0;var l=0;for(r=1;(r|0)<(o-1|0);r=r+1|0){l=l+o|0;for(i=1;(i|0)<(o-1|0);i=i+1|0){u=l-o|0;s=l+o|0;c=i-1|0;f=i+1|0;a=(n[t+u+c|0]|0)+(n[t+u+f|0]|0)+(n[t+l+i|0]|0)+(n[t+s+c|0]|0)+(n[t+s+f|0]|0)|0;if((a|0)==(5|0)){n[e+l+i|0]=1}else{n[e+l+i|0]=0}}}}function u(t,e,r){t|=0;e|=0;r|=0;var a=0;a=i(o,o)|0;while((a|0)>0){a=a-1|0;n[r+a|0]=(n[t+a|0]|0)-(n[e+a|0]|0)|0}}function s(t,e,r){t|=0;e|=0;r|=0;var a=0;a=i(o,o)|0;while((a|0)>0){a=a-1|0;n[r+a|0]=n[t+a|0]|0|(n[e+a|0]|0)|0}}function c(t){t|=0;var e=0;var r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;e=(e|0)+(n[t+r|0]|0)|0}return e|0}function f(t,e){t|=0;e|=0;var r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;n[t+r|0]=e}}function l(t,e){t|=0;e|=0;var r=0;var i=0;var a=0;var u=0;var s=0;var c=0;var f=0;var l=0;for(r=1;(r|0)<(o-1|0);r=r+1|0){l=l+o|0;for(i=1;(i|0)<(o-1|0);i=i+1|0){u=l-o|0;s=l+o|0;c=i-1|0;f=i+1|0;a=(n[t+u+c|0]|0)+(n[t+u+f|0]|0)+(n[t+l+i|0]|0)+(n[t+s+c|0]|0)+(n[t+s+f|0]|0)|0;if((a|0)>(0|0)){n[e+l+i|0]=1}else{n[e+l+i|0]=0}}}}function h(t,e){t|=0;e|=0;var r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;n[e+r|0]=n[t+r|0]|0}}function d(t){t|=0;var e=0;var r=0;for(e=0;(e|0)<(o-1|0);e=e+1|0){n[t+e|0]=0;n[t+r|0]=0;r=r+o-1|0;n[t+r|0]=0;r=r+1|0}for(e=0;(e|0)<(o|0);e=e+1|0){n[t+r|0]=0;r=r+1|0}}function p(){var t=0;var e=0;var r=0;var n=0;var p=0;var v=0;e=i(o,o)|0;r=e+e|0;n=r+e|0;f(n,0);d(t);do{a(t,e);l(e,r);u(t,r,r);s(n,r,n);h(e,t);p=c(t)|0;v=(p|0)==0|0}while(!v)}return{skeletonize:p}}},function(t,e,r){"use strict";(function(e,n){var o=r(280),i=r(51),a=r(283).GifReader,u=(r(284),r(290),r(305));function s(t,e){var r;try{r=new a(t)}catch(t){return void e(t)}if(r.numFrames()>0){var n=[r.numFrames(),r.height,r.width,4],o=new Uint8Array(n[0]*n[1]*n[2]*n[3]),u=i(o,n);try{for(var s=0;s<r.numFrames();++s)r.decodeAndBlitFrameRGBA(s,o.subarray(u.index(s,0,0,0),u.index(s+1,0,0,0)))}catch(t){return void e(t)}e(null,u.transpose(0,2,1))}else{n=[r.height,r.width,4],o=new Uint8Array(n[0]*n[1]*n[2]),u=i(o,n);try{r.decodeAndBlitFrameRGBA(0,o)}catch(t){return void e(t)}e(null,u.transpose(1,0))}}function c(t,r){e.nextTick((function(){try{var e=u(t);e?s(function(t){if(void 0===t[0]){for(var e=t.length,r=new Uint8Array(e),n=0;n<e;++n)r[n]=t.get(n);return r}return new Uint8Array(t)}(e),r):r(new Error("Error parsing data URI"))}catch(t){r(t)}}))}t.exports=function(t,e,r){r||(r=e,e="");var a=o.extname(t);switch(e||a.toUpperCase()){case".GIF":!function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.overrideMimeType&&r.overrideMimeType("application/binary"),r.onerror=function(t){e(t)},r.onload=function(){4===r.readyState&&s(new Uint8Array(r.response),e)},r.send()}(t,r);break;default:n.isBuffer(t)&&(t="data:"+e+";base64,"+t.toString("base64")),0===t.indexOf("data:image/gif;")?c(t,r):function(t,e){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height;var n=t.getContext("2d");n.drawImage(r,0,0);var o=n.getImageData(0,0,r.width,r.height);e(null,i(new Uint8Array(o.data),[r.width,r.height,4],[4,4*r.width,1],0))},r.onerror=function(t){e(t)},r.src=t}(t,r)}}}).call(this,r(14),r(26).Buffer)},function(t,e,r){t.exports=r(307)},function(t,e){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!==n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}},function(t,e){t.exports=function(t,e){var r=new Float32Array(2);return r[0]=t,r[1]=e,r}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e,t[1]=r,t}},function(t,e,r){t.exports=function(t,e){var r=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=n*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=n*Math.max(1,Math.abs(o),Math.abs(a))};var n=r(58)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}},function(t,e,r){t.exports=r(60)},function(t,e,r){t.exports=r(61)},function(t,e,r){t.exports=r(62)},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}},function(t,e){t.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}},function(t,e){t.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}},function(t,e){t.exports=function(t,e,r){var n=Math.cos(r),o=Math.sin(r),i=e[0],a=e[1];return t[0]=i*n-a*o,t[1]=i*o+a*n,t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}},function(t,e){t.exports=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}},function(t,e,r){t.exports=r(63)},function(t,e,r){t.exports=r(64)},function(t,e,r){t.exports=r(65)},function(t,e,r){t.exports=r(66)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],o=r*r+n*n;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(t,e){t.exports=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}},function(t,e){t.exports=function(t,e,r,n){var o=e[0],i=e[1];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t}},function(t,e){t.exports=function(t,e){e=e||1;var r=2*Math.random()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o,t[1]=r[1]*n+r[3]*o,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o+r[4],t[1]=r[1]*n+r[3]*o+r[5],t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[3]*o+r[6],t[1]=r[1]*n+r[4]*o+r[7],t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t}},function(t,e,r){t.exports=function(t,e,r,o,i,a){var u,s;e||(e=2);r||(r=0);s=o?Math.min(o*e+r,t.length):t.length;for(u=r;u<s;u+=e)n[0]=t[u],n[1]=t[u+1],i(n,n,a),t[u]=n[0],t[u+1]=n[1];return t};var n=r(59)()},function(t,e){t.exports=function(t,e,r){var n=e[0]*e[0]+e[1]*e[1];if(n>r*r){var o=Math.sqrt(n);t[0]=e[0]/o*r,t[1]=e[1]/o*r}else t[0]=e[0],t[1]=e[1];return t}},function(t,e){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(t,e,r){t.exports=function(t,e){var r=n(t[0],t[1],t[2]),a=n(e[0],e[1],e[2]);o(r,r),o(a,a);var u=i(r,a);return u>1?0:Math.acos(u)};var n=r(69),o=r(70),i=r(71)},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}},function(t,e,r){t.exports=function(t,e){var r=t[0],o=t[1],i=t[2],a=e[0],u=e[1],s=e[2];return Math.abs(r-a)<=n*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=n*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-s)<=n*Math.max(1,Math.abs(i),Math.abs(s))};var n=r(67)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}},function(t,e,r){t.exports=r(72)},function(t,e,r){t.exports=r(73)},function(t,e,r){t.exports=r(74)},function(t,e){t.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}},function(t,e){t.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}},function(t,e){t.exports=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}},function(t,e,r){t.exports=r(75)},function(t,e,r){t.exports=r(76)},function(t,e,r){t.exports=r(77)},function(t,e,r){t.exports=r(78)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],u=r[1],s=r[2];return t[0]=o*s-i*u,t[1]=i*a-n*s,t[2]=n*u-o*a,t}},function(t,e){t.exports=function(t,e,r,n){var o=e[0],i=e[1],a=e[2];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=a+n*(r[2]-a),t}},function(t,e){t.exports=function(t,e){e=e||1;var r=2*Math.random()*Math.PI,n=2*Math.random()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=n*e,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[3]*n+r[7]*o+r[11]*i+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*o+r[8]*i+r[12])/a,t[1]=(r[1]*n+r[5]*o+r[9]*i+r[13])/a,t[2]=(r[2]*n+r[6]*o+r[10]*i+r[14])/a,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2];return t[0]=n*r[0]+o*r[3]+i*r[6],t[1]=n*r[1]+o*r[4]+i*r[7],t[2]=n*r[2]+o*r[5]+i*r[8],t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*i-s*o,l=c*o+s*n-a*i,h=c*i+a*o-u*n,d=-a*n-u*o-s*i;return t[0]=f*c+d*-a+l*-s-h*-u,t[1]=l*c+d*-u+h*-a-f*-s,t[2]=h*c+d*-s+f*-u-l*-a,t}},function(t,e){t.exports=function(t,e,r,n){var o=r[1],i=r[2],a=e[1]-o,u=e[2]-i,s=Math.sin(n),c=Math.cos(n);return t[0]=e[0],t[1]=o+a*c-u*s,t[2]=i+a*s+u*c,t}},function(t,e){t.exports=function(t,e,r,n){var o=r[0],i=r[2],a=e[0]-o,u=e[2]-i,s=Math.sin(n),c=Math.cos(n);return t[0]=o+u*s+a*c,t[1]=e[1],t[2]=i+u*c-a*s,t}},function(t,e){t.exports=function(t,e,r,n){var o=r[0],i=r[1],a=e[0]-o,u=e[1]-i,s=Math.sin(n),c=Math.cos(n);return t[0]=o+a*c-u*s,t[1]=i+a*s+u*c,t[2]=e[2],t}},function(t,e,r){t.exports=function(t,e,r,o,i,a){var u,s;e||(e=3);r||(r=0);s=o?Math.min(o*e+r,t.length):t.length;for(u=r;u<s;u+=e)n[0]=t[u],n[1]=t[u+1],n[2]=t[u+2],i(n,n,a),t[u]=n[0],t[u+1]=n[1],t[u+2]=n[2];return t};var n=r(68)()},function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,n)}t.exports=r},function(t,e,r){var n=r(180),o=r(82),i=r(210),a=r(212),u=r(12),s=r(90),c=r(88);t.exports=function t(e,r,f,l,h){e!==r&&i(r,(function(i,s){if(h||(h=new n),u(i))a(e,r,s,f,t,l,h);else{var d=l?l(c(e,s),i,s+"",e,r,h):void 0;void 0===d&&(d=i),o(e,s,d)}}),s)}},function(t,e,r){var n=r(29),o=r(186),i=r(187),a=r(188),u=r(189),s=r(190);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(30),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},function(t,e,r){var n=r(30);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var n=r(30);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(30);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},function(t,e,r){var n=r(29);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(29),o=r(79),i=r(81);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var n=r(44),o=r(194),i=r(12),a=r(196),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?h:u).test(a(t))}},function(t,e,r){var n=r(32),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n,o=r(195),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},function(t,e,r){var n=r(20)["__core-js_shared__"];t.exports=n},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,r){var n=r(199),o=r(29),i=r(79);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(t,e,r){var n=r(200),o=r(201),i=r(202),a=r(203),u=r(204);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(33);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(33),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},function(t,e,r){var n=r(33),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},function(t,e,r){var n=r(33);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,r){var n=r(34);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var n=r(34);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(34);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(34);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},function(t,e,r){var n=r(211)();t.exports=n},function(t,e){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===r(i[s],s,i))break}return e}}},function(t,e,r){var n=r(82),o=r(213),i=r(214),a=r(217),u=r(218),s=r(35),c=r(13),f=r(222),l=r(86),h=r(44),d=r(12),p=r(224),v=r(87),g=r(88),y=r(228);t.exports=function(t,e,r,m,b,w,_){var x=g(t,r),E=g(e,r),A=_.get(E);if(A)n(t,r,A);else{var R=w?w(x,E,r+"",t,e,_):void 0,S=void 0===R;if(S){var O=c(E),C=!O&&l(E),k=!O&&!C&&v(E);R=E,O||C||k?c(x)?R=x:f(x)?R=a(x):C?(S=!1,R=o(E,!0)):k?(S=!1,R=i(E,!0)):R=[]:p(E)||s(E)?(R=x,s(x)?R=y(x):d(x)&&!h(x)||(R=u(E))):S=!1}S&&(_.set(E,R),b(R,E,m,w,_),_.delete(E)),n(t,r,R)}}},function(t,e,r){(function(t){var n=r(20),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(46)(t))},function(t,e,r){var n=r(215);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){var n=r(216);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e,r){var n=r(20).Uint8Array;t.exports=n},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},function(t,e,r){var n=r(219),o=r(84),i=r(85);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},function(t,e,r){var n=r(12),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){var n=r(25),o=r(21);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},function(t,e,r){var n=r(47),o=r(21);t.exports=function(t){return o(t)&&n(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(25),o=r(84),i=r(21),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==f}},function(t,e,r){var n=r(25),o=r(48),i=r(21),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){(function(t){var n=r(80),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u}).call(this,r(46)(t))},function(t,e,r){var n=r(229),o=r(90);t.exports=function(t){return n(t,o(t))}},function(t,e,r){var n=r(89),o=r(45);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=i?i(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),a?o(r,c,f):n(r,c,f)}return r}},function(t,e,r){var n=r(231),o=r(35),i=r(13),a=r(86),u=r(36),s=r(87),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),f=!r&&o(t),l=!r&&!f&&a(t),h=!r&&!f&&!l&&s(t),d=r||f||l||h,p=d?n(t.length,String):[],v=p.length;for(var g in t)!e&&!c.call(t,g)||d&&("length"==g||l&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||p.push(g);return p}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(12),o=r(85),i=r(233),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&r.push(u);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){var n=r(235),o=r(240);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(r[0],r[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e}))}},function(t,e,r){var n=r(91),o=r(92),i=r(93);t.exports=function(t,e){return i(o(t,e,n),t+"")}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(238),o=r(83),i=r(91),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=r(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(31),o=r(47),i=r(36),a=r(12);t.exports=function(t,e,r){if(!a(r))return!1;var u=typeof e;return!!("number"==u?o(r)&&i(e,r.length):"string"==u&&e in r)&&n(r[e],t)}},function(t,e,r){var n=r(57);t.exports=function(t){if(Array.isArray(t))return n(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){var n=r(2);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}},function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=b(a,r);if(u){if(u===c)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var f=s(t,e,r);if("normal"===f.type){if(n=r.done?"completed":"suspendedYield",f.arg===c)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(n="completed",r.method="throw",r.arg=f.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function f(){}function l(){}function h(){}var d={};d[o]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(E([])));v&&v!==e&&r.call(v,o)&&(d=v);var g=h.prototype=f.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function m(t,e){var n;this._invoke=function(o,i){function a(){return new e((function(n,a){!function n(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,c;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return l.prototype=g.constructor=h,h.constructor=l,h[a]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(m.prototype),m.prototype[i]=function(){return this},t.AsyncIterator=m,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new m(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){var n=r(247),o=r(257);t.exports=function(t,e){return n(t,e,(function(e,r){return o(t,r)}))}},function(t,e,r){var n=r(248),o=r(256),i=r(37);t.exports=function(t,e,r){for(var a=-1,u=e.length,s={};++a<u;){var c=e[a],f=n(t,c);r(f,c)&&o(s,i(c,t),f)}return s}},function(t,e,r){var n=r(37),o=r(50);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},function(t,e,r){var n=r(13),o=r(49),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,r){var n=r(251),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},function(t,e,r){var n=r(252);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},function(t,e,r){var n=r(81);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},function(t,e,r){var n=r(254);t.exports=function(t){return null==t?"":n(t)}},function(t,e,r){var n=r(32),o=r(255),i=r(13),a=r(49),u=n?n.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},function(t,e,r){var n=r(89),o=r(37),i=r(36),a=r(12),u=r(50);t.exports=function(t,e,r,s){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,l=f-1,h=t;null!=h&&++c<f;){var d=u(e[c]),p=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(c!=l){var v=h[d];void 0===(p=s?s(v,d,h):void 0)&&(p=a(v)?v:i(e[c+1])?[]:{})}n(h,d,p),h=h[d]}return t}},function(t,e,r){var n=r(258),o=r(259);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var n=r(37),o=r(35),i=r(13),a=r(36),u=r(48),s=r(50);t.exports=function(t,e,r){for(var c=-1,f=(e=n(e,t)).length,l=!1;++c<f;){var h=s(e[c]);if(!(l=null!=t&&r(t,h)))break;t=t[h]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&u(f)&&a(h,f)&&(i(t)||o(t))}},function(t,e,r){var n=r(261),o=r(92),i=r(93);t.exports=function(t){return i(o(t,void 0,n),t+"")}},function(t,e,r){var n=r(262);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},function(t,e,r){var n=r(263),o=r(264);t.exports=function t(e,r,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var f=e[s];r>0&&i(f)?r>1?t(f,r-1,i,a,u):n(u,f):a||(u[u.length]=f)}return u}},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},function(t,e,r){var n=r(32),o=r(35),i=r(13),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t){return t[0]*t[3]-t[2]*t[1]}},function(t,e){t.exports=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=n*u+i*s,t[1]=o*u+a*s,t[2]=n*c+i*f,t[3]=o*c+a*f,t}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(t,e){t.exports=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+i*u,t[1]=o*s+a*u,t[2]=n*-u+i*s,t[3]=o*-u+a*s,t}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r*i-o*n;return a?(a=1/a,t[0]=i*a,t[1]=-n*a,t[2]=-o*a,t[3]=r*a,t):null}},function(t,e){t.exports=function(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=r[0],s=r[1];return t[0]=n*u,t[1]=o*u,t[2]=i*s,t[3]=a*s,t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},function(t,e){t.exports=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}},function(t,e){t.exports=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),a=n[0],u=n[1],s=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,u)),f=0,l=u>0?a-4:a;for(r=0;r<l;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;2===u&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,s[f++]=255&e);1===u&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=0,u=r-o;a<u;a+=16383)i.push(f(t,a,a+16383>u?u:a+16383));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)n[u]=a[u],o[a.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,r){for(var o,i,a=[],u=e;u<r;u+=3)o=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,a,u=8*o-n-1,s=(1<<u)-1,c=s>>1,f=-7,l=r?o-1:0,h=r?-1:1,d=t[e+l];for(l+=h,i=d&(1<<-f)-1,d>>=-f,f+=u;f>0;i=256*i+t[e+l],l+=h,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=n;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,u,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+l>=1?h/s:h*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(e*s-1)*Math.pow(2,o),a+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&u,d+=p,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return(o?"/":"")+(e=r(n(e.split("/"),(function(t){return!!t})),!o).join("/"))||"."},e.normalize=function(t){var i=e.isAbsolute(t),a="/"===o(t,-1);return(t=r(n(t.split("/"),(function(t){return!!t})),!i).join("/"))||i||(t="."),t&&a&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}var c=[];for(s=u;s<o.length;s++)c.push("..");return(c=c.concat(i.slice(u))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,o=!0,i=t.length-1;i>=1;--i)if(47===(e=t.charCodeAt(i))){if(!o){n=i;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){r=e+1;break}}else-1===n&&(o=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,o=!0,i=0,a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(47!==u)-1===n&&(o=!1,n=a+1),46===u?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){r=a+1;break}}return-1===e||-1===n||0===i||1===i&&e===n-1&&e===r+1?"":t.slice(e,n)};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(14))},function(t,e,r){"use strict";t.exports=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";function n(t,e,r,n){for(var o=t[e++],i=1<<o,a=i+1,u=a+1,s=o+1,c=(1<<s)-1,f=0,l=0,h=0,d=t[e++],p=new Int32Array(4096),v=null;;){for(;f<16&&0!==d;)l|=t[e++]<<f,f+=8,1===d?d=t[e++]:--d;if(f<s)break;var g=l&c;if(l>>=s,f-=s,g!==i){if(g===a)break;for(var y=g<u?g:v,m=0,b=y;b>i;)b=p[b]>>8,++m;var w=b;if(h+m+(y!==g?1:0)>n)return void console.log("Warning, gif stream longer than expected.");r[h++]=w;var _=h+=m;for(y!==g&&(r[h++]=w),b=y;m--;)b=p[b],r[--_]=255&b,b>>=8;null!==v&&u<4096&&(p[u++]=v<<8|w,u>=c+1&&s<12&&(++s,c=c<<1|1)),v=g}else u=a+1,c=(1<<(s=o+1))-1,v=null}return h!==n&&console.log("Warning, gif stream shorter than expected."),r}try{e.GifWriter=function(t,e,r,n){var o=0,i=void 0===(n=void 0===n?{}:n).loop?null:n.loop,a=void 0===n.palette?null:n.palette;if(e<=0||r<=0||e>65535||r>65535)throw new Error("Width/Height invalid.");function u(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[o++]=71,t[o++]=73,t[o++]=70,t[o++]=56,t[o++]=57,t[o++]=97;var s=0,c=0;if(null!==a){for(var f=u(a);f>>=1;)++s;if(f=1<<s,--s,void 0!==n.background){if((c=n.background)>=f)throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(t[o++]=255&e,t[o++]=e>>8&255,t[o++]=255&r,t[o++]=r>>8&255,t[o++]=(null!==a?128:0)|s,t[o++]=c,t[o++]=0,null!==a)for(var l=0,h=a.length;l<h;++l){var d=a[l];t[o++]=d>>16&255,t[o++]=d>>8&255,t[o++]=255&d}if(null!==i){if(i<0||i>65535)throw new Error("Loop count invalid.");t[o++]=33,t[o++]=255,t[o++]=11,t[o++]=78,t[o++]=69,t[o++]=84,t[o++]=83,t[o++]=67,t[o++]=65,t[o++]=80,t[o++]=69,t[o++]=50,t[o++]=46,t[o++]=48,t[o++]=3,t[o++]=1,t[o++]=255&i,t[o++]=i>>8&255,t[o++]=0}var p=!1;this.addFrame=function(e,r,n,i,s,c){if(!0===p&&(--o,p=!1),c=void 0===c?{}:c,e<0||r<0||e>65535||r>65535)throw new Error("x/y invalid.");if(n<=0||i<=0||n>65535||i>65535)throw new Error("Width/Height invalid.");if(s.length<n*i)throw new Error("Not enough pixels for the frame size.");var f=!0,l=c.palette;if(null==l&&(f=!1,l=a),null==l)throw new Error("Must supply either a local or global palette.");for(var h=u(l),d=0;h>>=1;)++d;h=1<<d;var v=void 0===c.delay?0:c.delay,g=void 0===c.disposal?0:c.disposal;if(g<0||g>3)throw new Error("Disposal out of range.");var y=!1,m=0;if(void 0!==c.transparent&&null!==c.transparent&&(y=!0,(m=c.transparent)<0||m>=h))throw new Error("Transparent color index.");if((0!==g||y||0!==v)&&(t[o++]=33,t[o++]=249,t[o++]=4,t[o++]=g<<2|(!0===y?1:0),t[o++]=255&v,t[o++]=v>>8&255,t[o++]=m,t[o++]=0),t[o++]=44,t[o++]=255&e,t[o++]=e>>8&255,t[o++]=255&r,t[o++]=r>>8&255,t[o++]=255&n,t[o++]=n>>8&255,t[o++]=255&i,t[o++]=i>>8&255,t[o++]=!0===f?128|d-1:0,!0===f)for(var b=0,w=l.length;b<w;++b){var _=l[b];t[o++]=_>>16&255,t[o++]=_>>8&255,t[o++]=255&_}return o=function(t,e,r,n){t[e++]=r;var o=e++,i=1<<r,a=i-1,u=i+1,s=u+1,c=r+1,f=0,l=0;function h(r){for(;f>=r;)t[e++]=255&l,l>>=8,f-=8,e===o+256&&(t[o]=255,o=e++)}function d(t){l|=t<<f,f+=c,h(8)}var p=n[0]&a,v={};d(i);for(var g=1,y=n.length;g<y;++g){var m=n[g]&a,b=p<<8|m,w=v[b];if(void 0===w){for(l|=p<<f,f+=c;f>=8;)t[e++]=255&l,l>>=8,f-=8,e===o+256&&(t[o]=255,o=e++);4096===s?(d(i),s=u+1,c=r+1,v={}):(s>=1<<c&&++c,v[b]=s++),p=m}else p=w}d(p),d(u),h(1),o+1===e?t[o]=0:(t[o]=e-o-1,t[e++]=0);return e}(t,o,d<2?2:d,s)},this.end=function(){return!1===p&&(t[o++]=59,p=!0),o},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return o},this.setOutputBufferPosition=function(t){o=t}},e.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,o=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,u=1<<(7&i)+1;t[e++],t[e++];var s=null,c=null;a&&(s=e,c=u,e+=3*u);var f=!0,l=[],h=0,d=null,p=0,v=null;for(this.width=r,this.height=o;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],0==(1&g)&&(d=null),p=g>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++],x=_>>6&1,E=1<<(7&_)+1,A=s,R=c,S=!1;if(_>>7){S=!0;A=e,R=E,e+=3*E}var O=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(0===C)break;e+=C}l.push({x:y,y:m,width:b,height:w,has_local_palette:S,palette_offset:A,palette_size:R,data_offset:O,data_length:e-O,transparent_index:d,interlaced:!!x,delay:h,disposal:p});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return v},this.frameInfo=function(t){if(t<0||t>=l.length)throw new Error("Frame index out of range.");return l[t]},this.decodeAndBlitFrameBGRA=function(e,o){var i=this.frameInfo(e),a=i.width*i.height,u=new Uint8Array(a);n(t,i.data_offset,u,a);var s=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var f=i.width,l=r-f,h=f,d=4*(i.y*r+i.x),p=4*((i.y+i.height)*r+i.x),v=d,g=4*l;!0===i.interlaced&&(g+=4*r*7);for(var y=8,m=0,b=u.length;m<b;++m){var w=u[m];if(0===h&&(h=f,(v+=g)>=p&&(g=4*l+4*r*(y-1),v=d+(f+l)*(y<<1),y>>=1)),w===c)v+=4;else{var _=t[s+3*w],x=t[s+3*w+1],E=t[s+3*w+2];o[v++]=E,o[v++]=x,o[v++]=_,o[v++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,o){var i=this.frameInfo(e),a=i.width*i.height,u=new Uint8Array(a);n(t,i.data_offset,u,a);var s=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var f=i.width,l=r-f,h=f,d=4*(i.y*r+i.x),p=4*((i.y+i.height)*r+i.x),v=d,g=4*l;!0===i.interlaced&&(g+=4*r*7);for(var y=8,m=0,b=u.length;m<b;++m){var w=u[m];if(0===h&&(h=f,(v+=g)>=p&&(g=4*l+4*r*(y-1),v=d+(f+l)*(y<<1),y>>=1)),w===c)v+=4;else{var _=t[s+3*w],x=t[s+3*w+1],E=t[s+3*w+2];o[v++]=_,o[v++]=x,o[v++]=E,o[v++]=255}--h}}}}catch(t){}},function(t,e,r){"use strict";var n=r(51),o=r(285);t.exports=function(t,e){for(var r=[],i=t,a=1;Array.isArray(i);)r.push(i.length),a*=i.length,i=i[0];return 0===r.length?n():(e||(e=n(new Float64Array(a),r)),o(e,t),e)}},function(t,e,r){t.exports=r(286)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(t,e,r){"use strict";var n=r(287);function o(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var e=new o;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var i=0;i<r.length;++i){var a=r[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+r[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,n(e)}},function(t,e,r){"use strict";var n=r(288);t.exports=function(t){var e=["'use strict'","var CACHED={}"],r=[],o=t.funcName+"_cwise_thunk";e.push(["return function ",o,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],u=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],s=[],c=[],f=0;f<t.arrayArgs.length;++f){var l=t.arrayArgs[f];r.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),i.push("t"+l),i.push("r"+l),a.push("t"+l),a.push("r"+l+".join()"),u.push("array"+l+".data"),u.push("array"+l+".stride"),u.push("array"+l+".offset|0"),f>0&&(s.push("array"+t.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[f]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[f])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),f=0;f<t.scalarArgs.length;++f)u.push("scalar"+t.scalarArgs[f]);return r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",u.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(n.bind(void 0,t))}},function(t,e,r){"use strict";var n=r(289);function o(t,e,r){var n,o,i=t.length,a=e.arrayArgs.length,u=e.indexArgs.length>0,s=[],c=[],f=0,l=0;for(n=0;n<i;++n)c.push(["i",n,"=0"].join(""));for(o=0;o<a;++o)for(n=0;n<i;++n)l=f,f=t[n],0===n?c.push(["d",o,"s",n,"=t",o,"p",f].join("")):c.push(["d",o,"s",n,"=(t",o,"p",f,"-s",l,"*t",o,"p",l,")"].join(""));for(c.length>0&&s.push("var "+c.join(",")),n=i-1;n>=0;--n)f=t[n],s.push(["for(i",n,"=0;i",n,"<s",f,";++i",n,"){"].join(""));for(s.push(r),n=0;n<i;++n){for(l=f,f=t[n],o=0;o<a;++o)s.push(["p",o,"+=d",o,"s",n].join(""));u&&(n>0&&s.push(["index[",l,"]-=s",l].join("")),s.push(["++index[",f,"]"].join(""))),s.push("}")}return s.join("\n")}function i(t,e,r){for(var n=t.body,o=[],i=[],a=0;a<t.args.length;++a){var u=t.args[a];if(!(u.count<=0)){var s=new RegExp(u.name,"g"),c="",f=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var l=e.offsetArgIndex.indexOf(a);f=e.offsetArgs[l].array,c="+q"+l;case"array":c="p"+f+c;var h="l"+a,d="a"+f;if(0===e.arrayBlockIndices[f])1===u.count?"generic"===r[f]?u.lvalue?(o.push(["var ",h,"=",d,".get(",c,")"].join("")),n=n.replace(s,h),i.push([d,".set(",c,",",h,")"].join(""))):n=n.replace(s,[d,".get(",c,")"].join("")):n=n.replace(s,[d,"[",c,"]"].join("")):"generic"===r[f]?(o.push(["var ",h,"=",d,".get(",c,")"].join("")),n=n.replace(s,h),u.lvalue&&i.push([d,".set(",c,",",h,")"].join(""))):(o.push(["var ",h,"=",d,"[",c,"]"].join("")),n=n.replace(s,h),u.lvalue&&i.push([d,"[",c,"]=",h].join("")));else{for(var p=[u.name],v=[c],g=0;g<Math.abs(e.arrayBlockIndices[f]);g++)p.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(g+1)+"*t"+f+"b"+g);if(s=new RegExp(p.join(""),"g"),c=v.join("+"),"generic"===r[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(s,[d,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(s,"Y"+e.scalarArgs.indexOf(a));break;case"index":n=n.replace(s,"index");break;case"shape":n=n.replace(s,"shape")}}}return[o.join("\n"),n,i.join("\n")].join("\n").trim()}function a(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var o=t[n],i=o.match(/\d+/);i=i?i[0]:"",0===o.charAt(0)?e[n]="u"+o.charAt(1)+i:e[n]=o.charAt(0)+i,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}t.exports=function(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),s=new Array(t.arrayArgs.length),c=0;c<t.arrayArgs.length;++c)s[c]=e[2*c],u[c]=e[2*c+1];var f=[],l=[],h=[],d=[],p=[];for(c=0;c<t.arrayArgs.length;++c){t.arrayBlockIndices[c]<0?(h.push(0),d.push(r),f.push(r),l.push(r+t.arrayBlockIndices[c])):(h.push(t.arrayBlockIndices[c]),d.push(t.arrayBlockIndices[c]+r),f.push(0),l.push(t.arrayBlockIndices[c]));for(var v=[],g=0;g<u[c].length;g++)h[c]<=u[c][g]&&u[c][g]<d[c]&&v.push(u[c][g]-h[c]);p.push(v)}var y=["SS"],m=["'use strict'"],b=[];for(g=0;g<r;++g)b.push(["s",g,"=SS[",g,"]"].join(""));for(c=0;c<t.arrayArgs.length;++c){y.push("a"+c),y.push("t"+c),y.push("p"+c);for(g=0;g<r;++g)b.push(["t",c,"p",g,"=t",c,"[",h[c]+g,"]"].join(""));for(g=0;g<Math.abs(t.arrayBlockIndices[c]);++g)b.push(["t",c,"b",g,"=t",c,"[",f[c]+g,"]"].join(""))}for(c=0;c<t.scalarArgs.length;++c)y.push("Y"+c);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){var w=new Array(r);for(c=0;c<r;++c)w[c]="0";b.push(["index=[",w.join(","),"]"].join(""))}for(c=0;c<t.offsetArgs.length;++c){var _=t.offsetArgs[c],x=[];for(g=0;g<_.offset.length;++g)0!==_.offset[g]&&(1===_.offset[g]?x.push(["t",_.array,"p",g].join("")):x.push([_.offset[g],"*t",_.array,"p",g].join("")));0===x.length?b.push("q"+c+"=0"):b.push(["q",c,"=",x.join("+")].join(""))}var E=n([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((b=b.concat(E)).length>0&&m.push("var "+b.join(",")),c=0;c<t.arrayArgs.length;++c)m.push("p"+c+"|=0");t.pre.body.length>3&&m.push(i(t.pre,t,s));var A=i(t.body,t,s),R=function(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}(p);R<r?m.push(function(t,e,r,n){for(var i=e.length,a=r.arrayArgs.length,u=r.blockSize,s=r.indexArgs.length>0,c=[],f=0;f<a;++f)c.push(["var offset",f,"=p",f].join(""));for(f=t;f<i;++f)c.push(["for(var j"+f+"=SS[",e[f],"]|0;j",f,">0;){"].join("")),c.push(["if(j",f,"<",u,"){"].join("")),c.push(["s",e[f],"=j",f].join("")),c.push(["j",f,"=0"].join("")),c.push(["}else{s",e[f],"=",u].join("")),c.push(["j",f,"-=",u,"}"].join("")),s&&c.push(["index[",e[f],"]=j",f].join(""));for(f=0;f<a;++f){for(var l=["offset"+f],h=t;h<i;++h)l.push(["j",h,"*t",f,"p",e[h]].join(""));c.push(["p",f,"=(",l.join("+"),")"].join(""))}for(c.push(o(e,r,n)),f=t;f<i;++f)c.push("}");return c.join("\n")}(R,p[0],t,A)):m.push(o(p[0],t,A)),t.post.body.length>3&&m.push(i(t.post,t,s)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+m.join("\n")+"\n----------");var S=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",R,a(s)].join("");return new Function(["function ",S,"(",y.join(","),"){",m.join("\n"),"} return ",S].join(""))()}},function(t,e,r){"use strict";t.exports=function(t,e,r){return 0===t.length?t:e?(r||t.sort(e),function(t,e){for(var r=1,n=t.length,o=t[0],i=t[0],a=1;a<n;++a)if(i=o,e(o=t[a],i)){if(a===r){r++;continue}t[r++]=o}return t.length=r,t}(t,e)):(r||t.sort(),function(t){for(var e=1,r=t.length,n=t[0],o=t[0],i=1;i<r;++i,o=n)if(o=n,(n=t[i])!==o){if(i===e){e++;continue}t[e++]=n}return t.length=e,t}(t))}},function(t,e,r){(function(e){var n=r(291);function o(t,r,o){t=t||function(t){this.queue(t)},r=r||function(){this.queue(null)};var i=!1,a=!1,u=[],s=!1,c=new n;function f(){for(;u.length&&!c.paused;){var t=u.shift();if(null===t)return c.emit("end");c.emit("data",t)}}function l(){c.writable=!1,r.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(o&&!1===o.autoDestroy),c.write=function(e){return t.call(this,e),!c.paused},c.queue=c.push=function(t){return s||(null===t&&(s=!0),u.push(t),f()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&e.nextTick((function(){c.destroy()}))})),c.end=function(t){if(!i)return i=!0,arguments.length&&c.write(t),l(),c},c.destroy=function(){if(!a)return a=!0,i=!0,u.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),f(),c.paused||c.emit("drain"),c},c}t.exports=o,o.through=o}).call(this,r(14))},function(t,e,r){t.exports=o;var n=r(52).EventEmitter;function o(){n.call(this)}r(22)(o,n),o.Readable=r(53),o.Writable=r(301),o.Duplex=r(302),o.Transform=r(303),o.PassThrough=r(304),o.Stream=o,o.prototype.pipe=function(t,e){var r=this;function o(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",o),t.on("drain",i),t._isStdio||e&&!1===e.end||(r.on("end",u),r.on("close",s));var a=!1;function u(){a||(a=!0,t.end())}function s(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(f(),0===n.listenerCount(this,"error"))throw t}function f(){r.removeListener("data",o),t.removeListener("drain",i),r.removeListener("end",u),r.removeListener("close",s),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),t.removeListener("close",f)}return r.on("error",c),t.on("error",c),r.on("end",f),r.on("close",f),t.on("close",f),t.emit("pipe",r),t}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){},function(t,e,r){"use strict";var n=r(54).Buffer,o=r(295);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,o,i=n.allocUnsafe(t>>>0),a=this.head,u=0;a;)e=a.data,r=i,o=u,e.copy(r,o),u+=a.data.length,a=a.next;return i},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(297),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(11))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,o,i,a,u,s=1,c={},f=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):n=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),n=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var o={callback:t,args:e};return c[s]=o,n(s),s++},h.clearImmediate=d}function d(t){delete c[t]}function p(t){if(f)setTimeout(p,0,t);else{var e=c[t];if(e){f=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{d(t),f=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(11),r(14))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(11))},function(t,e,r){var n=r(26),o=n.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";t.exports=i;var n=r(98),o=Object.create(r(27));function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}o.inherits=r(22),o.inherits(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(55)},function(t,e,r){t.exports=r(15)},function(t,e,r){t.exports=r(53).Transform},function(t,e,r){t.exports=r(53).PassThrough},function(t,e,r){(function(e){t.exports=function(t){if(!/^data\:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');var r=(t=t.replace(/\r?\n/g,"")).indexOf(",");if(-1===r||r<=4)throw new TypeError("malformed data: URI");for(var n=t.substring(5,r).split(";"),o=!1,i="US-ASCII",a=0;a<n.length;a++)"base64"==n[a]?o=!0:0==n[a].indexOf("charset=")&&(i=n[a].substring(8));var u=unescape(t.substring(r+1)),s=new e(u,o?"base64":"ascii");return s.type=n[0]||"text/plain",s.charset=i,s}}).call(this,r(26).Buffer)},function(t,e,r){"use strict";function n(t,e){var r=Math.floor(e),n=e-r,o=0<=r&&r<t.shape[0],i=0<=r+1&&r+1<t.shape[0];return(1-n)*(o?+t.get(r):0)+n*(i?+t.get(r+1):0)}function o(t,e,r){var n=Math.floor(e),o=e-n,i=0<=n&&n<t.shape[0],a=0<=n+1&&n+1<t.shape[0],u=Math.floor(r),s=r-u,c=0<=u&&u<t.shape[1],f=0<=u+1&&u+1<t.shape[1],l=i&&c?t.get(n,u):0,h=i&&f?t.get(n,u+1):0;return(1-s)*((1-o)*l+o*(a&&c?t.get(n+1,u):0))+s*((1-o)*h+o*(a&&f?t.get(n+1,u+1):0))}function i(t,e,r,n){var o=Math.floor(e),i=e-o,a=0<=o&&o<t.shape[0],u=0<=o+1&&o+1<t.shape[0],s=Math.floor(r),c=r-s,f=0<=s&&s<t.shape[1],l=0<=s+1&&s+1<t.shape[1],h=Math.floor(n),d=n-h,p=0<=h&&h<t.shape[2],v=0<=h+1&&h+1<t.shape[2],g=a&&f&&p?t.get(o,s,h):0,y=a&&l&&p?t.get(o,s+1,h):0,m=u&&f&&p?t.get(o+1,s,h):0,b=u&&l&&p?t.get(o+1,s+1,h):0,w=a&&f&&v?t.get(o,s,h+1):0,_=a&&l&&v?t.get(o,s+1,h+1):0;return(1-d)*((1-c)*((1-i)*g+i*m)+c*((1-i)*y+i*b))+d*((1-c)*((1-i)*w+i*(u&&f&&v?t.get(o+1,s,h+1):0))+c*((1-i)*_+i*(u&&l&&v?t.get(o+1,s+1,h+1):0)))}function a(t){var e,r,n=0|t.shape.length,o=new Array(n),i=new Array(n),a=new Array(n),u=new Array(n);for(e=0;e<n;++e)r=+arguments[e+1],o[e]=Math.floor(r),i[e]=r-o[e],a[e]=0<=o[e]&&o[e]<t.shape[e],u[e]=0<=o[e]+1&&o[e]+1<t.shape[e];var s,c,f,l=0;t:for(e=0;e<1<<n;++e){for(c=1,f=t.offset,s=0;s<n;++s)if(e&1<<s){if(!u[s])continue t;c*=i[s],f+=t.stride[s]*(o[s]+1)}else{if(!a[s])continue t;c*=1-i[s],f+=t.stride[s]*o[s]}l+=c*t.data[f]}return l}t.exports=function(t,e,r,u){switch(t.shape.length){case 0:return 0;case 1:return n(t,e);case 2:return o(t,e,r);case 3:return i(t,e,r,u);default:return a.apply(void 0,arguments)}},t.exports.d1=n,t.exports.d2=o,t.exports.d3=i},function(t,e,r){"use strict";r.r(e),r.d(e,"BarcodeDecoder",(function(){return Mt})),r.d(e,"BarcodeReader",(function(){return S})),r.d(e,"CameraAccess",(function(){return Xt})),r.d(e,"ImageDebug",(function(){return f.a})),r.d(e,"ImageWrapper",(function(){return i.a})),r.d(e,"ResultCollector",(function(){return Qt}));var n=r(23),o=r.n(n),i=(r(106),r(10)),a={},u={UP:1,DOWN:-1};a.getBarcodeLine=function(t,e,r){var n,o,i,a,u,s=0|e.x,c=0|e.y,f=0|r.x,l=0|r.y,h=Math.abs(l-c)>Math.abs(f-s),d=[],p=t.data,v=t.size.x,g=255,y=0;function m(t,e){u=p[e*v+t],g=u<g?u:g,y=u>y?u:y,d.push(u)}h&&(i=s,s=c,c=i,i=f,f=l,l=i),s>f&&(i=s,s=f,f=i,i=c,c=l,l=i);var b=f-s,w=Math.abs(l-c);n=b/2|0,o=c;var _=c<l?1:-1;for(a=s;a<f;a++)h?m(o,a):m(a,o),(n-=w)<0&&(o+=_,n+=b);return{line:d,min:g,max:y}},a.toBinaryLine=function(t){var e,r,n,o,i,a,s=t.min,c=t.max,f=t.line,l=s+(c-s)/2,h=[],d=(c-s)/12,p=-d;for(n=f[0]>l?u.UP:u.DOWN,h.push({pos:0,val:f[0]}),i=0;i<f.length-2;i++)n!==(o=(e=f[i+1]-f[i])+(r=f[i+2]-f[i+1])<p&&f[i+1]<1.5*l?u.DOWN:e+r>d&&f[i+1]>.5*l?u.UP:n)&&(h.push({pos:i,val:f[i]}),n=o);for(h.push({pos:f.length,val:f[f.length-1]}),a=h[0].pos;a<h[1].pos;a++)f[a]=f[a]>l?0:1;for(i=1;i<h.length-1;i++)for(d=h[i+1].val>h[i].val?h[i].val+(h[i+1].val-h[i].val)/3*2|0:h[i+1].val+(h[i].val-h[i+1].val)/3|0,a=h[i].pos;a<h[i+1].pos;a++)f[a]=f[a]>d?0:1;return{line:f,threshold:d}},a.debug={printFrequency:function(t,e){var r,n=e.getContext("2d");for(e.width=t.length,e.height=256,n.beginPath(),n.strokeStyle="blue",r=0;r<t.length;r++)n.moveTo(r,255),n.lineTo(r,255-t[r]);n.stroke(),n.closePath()},printPattern:function(t,e){var r,n=e.getContext("2d");for(e.width=t.length,n.fillColor="black",r=0;r<t.length;r++)1===t[r]&&n.fillRect(r,0,1,100)}};var s,c=a,f=r(16),l=r(3),h=r.n(l),d=r(4),p=r.n(d),v=r(1),g=r.n(v),y=r(6),m=r.n(y),b=r(5),w=r.n(b),_=r(2),x=r.n(_),E=r(0),A=r.n(E),R=r(9);!function(t){t[t.Forward=1]="Forward",t[t.Reverse=-1]="Reverse"}(s||(s={}));var S=function(){function t(e,r){return h()(this,t),A()(this,"_row",[]),A()(this,"config",{}),A()(this,"supplements",[]),A()(this,"SINGLE_CODE_ERROR",0),A()(this,"FORMAT","unknown"),A()(this,"CONFIG_KEYS",{}),this._row=[],this.config=e||{},r&&(this.supplements=r),this}return p()(t,null,[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),p()(t,[{key:"_nextUnset",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e;r<t.length;r++)if(!t[r])return r;return t.length}},{key:"_matchPattern",value:function(t,e,r){var n,o=0,i=0,a=0,u=0,s=0,c=0;r=r||this.SINGLE_CODE_ERROR||1;for(var f=0;f<t.length;f++)a+=t[f],u+=e[f];if(a<u)return Number.MAX_VALUE;r*=n=a/u;for(var l=0;l<t.length;l++){if(s=t[l],c=e[l]*n,(i=Math.abs(s-c)/c)>r)return Number.MAX_VALUE;o+=i}return o/u}},{key:"_nextSet",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e;r<t.length;r++)if(t[r])return r;return t.length}},{key:"_correctBars",value:function(t,e,r){for(var n=r.length,o=0;n--;)(o=t[r[n]]*(1-(1-e)/2))>1&&(t[r[n]]=o)}},{key:"decodePattern",value:function(t){this._row=t;var e=this._decode();return null===e?(this._row.reverse(),(e=this._decode())&&(e.direction=s.Reverse,e.start=this._row.length-e.start,e.end=this._row.length-e.end)):e.direction=s.Forward,e&&(e.format=this.FORMAT),e}},{key:"_matchRange",value:function(t,e,r){var n;for(n=t=t<0?0:t;n<e;n++)if(this._row[n]!==r)return!1;return!0}},{key:"_fillCounters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[],o=0;n[o]=0;for(var i=t;i<e;i++)this._row[i]^(r?1:0)?n[o]++:(n[++o]=1,r=!r);return n}},{key:"_toCounters",value:function(t,e){var r=e.length,n=this._row.length,o=!this._row[t],i=0;R.a.init(e,0);for(var a=t;a<n;a++)if(this._row[a]^(o?1:0))e[i]++;else{if(++i===r)break;e[i]=1,o=!o}return e}}]),t}();function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var C=function(t){m()(r,t);var e=O(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"CODE_SHIFT",98),A()(g()(t),"CODE_C",99),A()(g()(t),"CODE_B",100),A()(g()(t),"CODE_A",101),A()(g()(t),"START_CODE_A",103),A()(g()(t),"START_CODE_B",104),A()(g()(t),"START_CODE_C",105),A()(g()(t),"STOP_CODE",106),A()(g()(t),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),A()(g()(t),"SINGLE_CODE_ERROR",.64),A()(g()(t),"AVG_CODE_ERROR",.3),A()(g()(t),"FORMAT","code_128"),A()(g()(t),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),t}return p()(r,[{key:"_decodeCode",value:function(t,e){for(var r={error:Number.MAX_VALUE,code:-1,start:t,end:t,correction:{bar:1,space:1}},n=[0,0,0,0,0,0],o=t,i=!this._row[o],a=0,u=o;u<this._row.length;u++)if(this._row[u]^(i?1:0))n[a]++;else{if(a===n.length-1){e&&this._correct(n,e);for(var s=0;s<this.CODE_PATTERN.length;s++){var c=this._matchPattern(n,this.CODE_PATTERN[s]);c<r.error&&(r.code=s,r.error=c)}return r.end=u,-1===r.code||r.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[r.code]&&(r.correction.bar=this.calculateCorrection(this.CODE_PATTERN[r.code],n,this.MODULE_INDICES.bar),r.correction.space=this.calculateCorrection(this.CODE_PATTERN[r.code],n,this.MODULE_INDICES.space)),r)}n[++a]=1,i=!i}return null}},{key:"_correct",value:function(t,e){this._correctBars(t,e.bar,this.MODULE_INDICES.bar),this._correctBars(t,e.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var t=[0,0,0,0,0,0],e=this._nextSet(this._row),r={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},n=!1,o=0,i=e;i<this._row.length;i++)if(this._row[i]^(n?1:0))t[o]++;else{if(o===t.length-1){for(var a=t.reduce((function(t,e){return t+e}),0),u=this.START_CODE_A;u<=this.START_CODE_C;u++){var s=this._matchPattern(t,this.CODE_PATTERN[u]);s<r.error&&(r.code=u,r.error=s)}if(r.error<this.AVG_CODE_ERROR)return r.start=i-a,r.end=i,r.correction.bar=this.calculateCorrection(this.CODE_PATTERN[r.code],t,this.MODULE_INDICES.bar),r.correction.space=this.calculateCorrection(this.CODE_PATTERN[r.code],t,this.MODULE_INDICES.space),r;for(var c=0;c<4;c++)t[c]=t[c+2];t[4]=0,t[5]=0,o--}else o++;t[o]=1,n=!n}return null}},{key:"_decode",value:function(t,e){var r=this,n=this._findStart();if(null===n)return null;var o={code:n.code,start:n.start,end:n.end,correction:{bar:n.correction.bar,space:n.correction.space}},i=[];i.push(o);for(var a=o.code,u=function(t){switch(t){case r.START_CODE_A:return r.CODE_A;case r.START_CODE_B:return r.CODE_B;case r.START_CODE_C:return r.CODE_C;default:return null}}(o.code),s=!1,c=!1,f=c,l=!0,h=0,d=[],p=[];!s;){if(f=c,c=!1,null!==(o=this._decodeCode(o.end,o.correction)))switch(o.code!==this.STOP_CODE&&(l=!0),o.code!==this.STOP_CODE&&(d.push(o.code),a+=++h*o.code),i.push(o),u){case this.CODE_A:if(o.code<64)p.push(String.fromCharCode(32+o.code));else if(o.code<96)p.push(String.fromCharCode(o.code-64));else switch(o.code!==this.STOP_CODE&&(l=!1),o.code){case this.CODE_SHIFT:c=!0,u=this.CODE_B;break;case this.CODE_B:u=this.CODE_B;break;case this.CODE_C:u=this.CODE_C;break;case this.STOP_CODE:s=!0}break;case this.CODE_B:if(o.code<96)p.push(String.fromCharCode(32+o.code));else switch(o.code!==this.STOP_CODE&&(l=!1),o.code){case this.CODE_SHIFT:c=!0,u=this.CODE_A;break;case this.CODE_A:u=this.CODE_A;break;case this.CODE_C:u=this.CODE_C;break;case this.STOP_CODE:s=!0}break;case this.CODE_C:if(o.code<100)p.push(o.code<10?"0"+o.code:o.code);else switch(o.code!==this.STOP_CODE&&(l=!1),o.code){case this.CODE_A:u=this.CODE_A;break;case this.CODE_B:u=this.CODE_B;break;case this.STOP_CODE:s=!0}}else s=!0;f&&(u=u===this.CODE_A?this.CODE_B:this.CODE_A)}return null===o?null:(o.end=this._nextUnset(this._row,o.end),this._verifyTrailingWhitespace(o)?(a-=h*d[d.length-1])%103!==d[d.length-1]?null:p.length?(l&&p.splice(p.length-1,1),{code:p.join(""),start:n.start,end:o.end,codeset:u,startInfo:n,decodedCodes:i,endInfo:o,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(t){var e;return(e=t.end+(t.end-t.start)/2)<this._row.length&&this._matchRange(t.end,e,0)?t:null}},{key:"calculateCorrection",value:function(t,e,r){for(var n=r.length,o=0,i=0;n--;)i+=t[r[n]],o+=e[r[n]];return i/o}}]),r}(S),k=r(17),M=r.n(k);function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){A()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var D=[1,1,1],I=[1,1,1,1,1],L=[1,1,2],U=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],B=[0,11,13,14,19,25,28,21,22,26],z=function(t){m()(r,t);var e=P(r);function r(t,n){var o;return h()(this,r),o=e.call(this,M()({supplements:[]},t),n),A()(g()(o),"FORMAT","ean_13"),A()(g()(o),"SINGLE_CODE_ERROR",.7),A()(g()(o),"STOP_PATTERN",[1,1,1]),o}return p()(r,[{key:"_findPattern",value:function(t,e,r,n){var o=new Array(t.length).fill(0),i={error:Number.MAX_VALUE,start:0,end:0},a=0;e||(e=this._nextSet(this._row));for(var u=!1,s=e;s<this._row.length;s++)if(this._row[s]^(r?1:0))o[a]+=1;else{if(a===o.length-1){var c=this._matchPattern(o,t);if(c<.48&&i.error&&c<i.error)return u=!0,i.error=c,i.start=s-o.reduce((function(t,e){return t+e}),0),i.end=s,i;if(n){for(var f=0;f<o.length-2;f++)o[f]=o[f+2];o[o.length-2]=0,o[o.length-1]=0,a--}}else a++;o[a]=1,r=!r}return u?i:null}},{key:"_decodeCode",value:function(t,e){var r=[0,0,0,0],n=t,o={error:Number.MAX_VALUE,code:-1,start:t,end:t},i=!this._row[n],a=0;e||(e=U.length);for(var u=n;u<this._row.length;u++)if(this._row[u]^(i?1:0))r[a]++;else{if(a===r.length-1){for(var s=0;s<e;s++){var c=this._matchPattern(r,U[s]);o.end=u,c<o.error&&(o.code=s,o.error=c)}return o.error>.48?null:o}r[++a]=1,i=!i}return null}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),e=null;!e;){if(!(e=this._findPattern(D,t,!1,!0)))return null;var r=e.start-(e.end-e.start);if(r>=0&&this._matchRange(r,e.start,0))return e;t=e.end,e=null}return null}},{key:"_calculateFirstDigit",value:function(t){for(var e=0;e<B.length;e++)if(t===B[e])return e;return null}},{key:"_decodePayload",value:function(t,e,r){for(var n=j({},t),o=0,i=0;i<6;i++){if(!(n=this._decodeCode(n.end)))return null;n.code>=10?(n.code-=10,o|=1<<5-i):o|=0<<5-i,e.push(n.code),r.push(n)}var a=this._calculateFirstDigit(o);if(null===a)return null;e.unshift(a);var u=this._findPattern(I,n.end,!0,!1);if(null===u||!u.end)return null;r.push(u);for(var s=0;s<6;s++){if(!(u=this._decodeCode(u.end,10)))return null;r.push(u),e.push(u.code)}return u}},{key:"_verifyTrailingWhitespace",value:function(t){var e=t.end+(t.end-t.start);return e<this._row.length&&this._matchRange(t.end,e,0)?t:null}},{key:"_findEnd",value:function(t,e){var r=this._findPattern(this.STOP_PATTERN,t,e,!1);return null!==r?this._verifyTrailingWhitespace(r):null}},{key:"_checksum",value:function(t){for(var e=0,r=t.length-2;r>=0;r-=2)e+=t[r];e*=3;for(var n=t.length-1;n>=0;n-=2)e+=t[n];return e%10==0}},{key:"_decodeExtensions",value:function(t){var e=this._nextSet(this._row,t),r=this._findPattern(L,e,!1,!1);if(null===r)return null;for(var n=0;n<this.supplements.length;n++)try{var o=this.supplements[n]._decode(this._row,r.end);if(null!==o)return{code:o.code,start:e,startInfo:r,end:o.end,decodedCodes:o.decodedCodes,format:this.supplements[n].FORMAT}}catch(t){console.error("* decodeExtensions error in ",this.supplements[n],": ",t)}return null}},{key:"_decode",value:function(t,e){var r=new Array,n=new Array,o={},i=this._findStart();if(!i)return null;var a={start:i.start,end:i.end};if(n.push(a),!(a=this._decodePayload(a,r,n)))return null;if(!(a=this._findEnd(a.end,!1)))return null;if(n.push(a),!this._checksum(r))return null;if(this.supplements.length>0){var u=this._decodeExtensions(a.end);if(!u)return null;if(!u.decodedCodes)return null;var s=u.decodedCodes[u.decodedCodes.length-1],c={start:s.start+((s.end-s.start)/2|0),end:s.end};if(!this._verifyTrailingWhitespace(c))return null;o={supplement:u,code:r.join("")+u.code}}return j(j({code:r.join(""),start:i.start,end:a.end,startInfo:i,decodedCodes:n},o),{},{format:this.FORMAT})}}]),r}(S),N=r(40),F=r.n(N);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var q=new Uint16Array(F()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map((function(t){return t.charCodeAt(0)}))),V=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Y=function(t){m()(r,t);var e=W(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"FORMAT","code_39"),t}return p()(r,[{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),e=t,r=new Uint16Array([0,0,0,0,0,0,0,0,0]),n=0,o=!1,i=t;i<this._row.length;i++)if(this._row[i]^(o?1:0))r[n]++;else{if(n===r.length-1){if(148===this._toPattern(r)){var a=Math.floor(Math.max(0,e-(i-e)/4));if(this._matchRange(a,e,0))return{start:e,end:i}}e+=r[0]+r[1];for(var u=0;u<7;u++)r[u]=r[u+2];r[7]=0,r[8]=0,n--}else n++;r[n]=1,o=!o}return null}},{key:"_toPattern",value:function(t){for(var e=t.length,r=0,n=e,o=0;n>3;){r=this._findNextWidth(t,r),n=0;for(var i=0,a=0;a<e;a++)t[a]>r&&(i|=1<<e-1-a,n++,o+=t[a]);if(3===n){for(var u=0;u<e&&n>0;u++)if(t[u]>r&&(n--,2*t[u]>=o))return-1;return i}}return-1}},{key:"_findNextWidth",value:function(t,e){for(var r=Number.MAX_VALUE,n=0;n<t.length;n++)t[n]<r&&t[n]>e&&(r=t[n]);return r}},{key:"_patternToChar",value:function(t){for(var e=0;e<V.length;e++)if(V[e]===t)return String.fromCharCode(q[e]);return null}},{key:"_verifyTrailingWhitespace",value:function(t,e,r){var n=R.a.sum(r);return 3*(e-t-n)>=n}},{key:"_decode",value:function(t,e){var r=new Uint16Array([0,0,0,0,0,0,0,0,0]),n=[];if(!(e=this._findStart()))return null;var o,i,a=this._nextSet(this._row,e.end);do{r=this._toCounters(a,r);var u=this._toPattern(r);if(u<0)return null;if(null===(o=this._patternToChar(u)))return null;n.push(o),i=a,a+=R.a.sum(r),a=this._nextSet(this._row,a)}while("*"!==o);return n.pop(),n.length&&this._verifyTrailingWhitespace(i,a,r)?{code:n.join(""),start:e.start,end:a,startInfo:e,decodedCodes:n,format:this.FORMAT}:null}}]),r}(S),G=r(18),H=r.n(G);function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var Q=/[IOQ]/g,$=/[A-Z0-9]{17}/,Z=function(t){m()(r,t);var e=X(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"FORMAT","code_39_vin"),t}return p()(r,[{key:"_checkChecksum",value:function(t){return!!t}},{key:"_decode",value:function(t,e){var n=H()(x()(r.prototype),"_decode",this).call(this,t,e);if(!n)return null;var o=n.code;return o&&(o=o.replace(Q,"")).match($)&&this._checkChecksum(o)?(n.code=o,n):null}}]),r}(Y);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var J=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],tt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],et=[26,41,11,14],rt=function(t){m()(r,t);var e=K(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"_counters",[]),A()(g()(t),"FORMAT","codabar"),t}return p()(r,[{key:"_computeAlternatingThreshold",value:function(t,e){for(var r=Number.MAX_VALUE,n=0,o=0,i=t;i<e;i+=2)(o=this._counters[i])>n&&(n=o),o<r&&(r=o);return(r+n)/2|0}},{key:"_toPattern",value:function(t){var e=t+7;if(e>this._counters.length)return-1;for(var r=this._computeAlternatingThreshold(t,e),n=this._computeAlternatingThreshold(t+1,e),o=64,i=0,a=0,u=0;u<7;u++)i=0==(1&u)?r:n,this._counters[t+u]>i&&(a|=o),o>>=1;return a}},{key:"_isStartEnd",value:function(t){for(var e=0;e<et.length;e++)if(et[e]===t)return!0;return!1}},{key:"_sumCounters",value:function(t,e){for(var r=0,n=t;n<e;n++)r+=this._counters[n];return r}},{key:"_findStart",value:function(){for(var t=this._nextUnset(this._row),e=1;e<this._counters.length;e++){var r=this._toPattern(e);if(-1!==r&&this._isStartEnd(r))return{start:t+=this._sumCounters(0,e),end:t+this._sumCounters(e,e+8),startCounter:e,endCounter:e+8}}return null}},{key:"_patternToChar",value:function(t){for(var e=0;e<tt.length;e++)if(tt[e]===t)return String.fromCharCode(J[e]);return null}},{key:"_calculatePatternLength",value:function(t){for(var e=0,r=t;r<t+7;r++)e+=this._counters[r];return e}},{key:"_verifyWhitespace",value:function(t,e){return(t-1<=0||this._counters[t-1]>=this._calculatePatternLength(t)/2)&&(e+8>=this._counters.length||this._counters[e+7]>=this._calculatePatternLength(e)/2)}},{key:"_charToPattern",value:function(t){for(var e=t.charCodeAt(0),r=0;r<J.length;r++)if(J[r]===e)return tt[r];return 0}},{key:"_thresholdResultPattern",value:function(t,e){for(var r,n={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},o=e,i=0;i<t.length;i++){r=this._charToPattern(t[i]);for(var a=6;a>=0;a--){var u=2==(1&a)?n.bar:n.space,s=1==(1&r)?u.wide:u.narrow;s.size+=this._counters[o+a],s.counts++,r>>=1}o+=8}return["space","bar"].forEach((function(t){var e=n[t];e.wide.min=Math.floor((e.narrow.size/e.narrow.counts+e.wide.size/e.wide.counts)/2),e.narrow.max=Math.ceil(e.wide.min),e.wide.max=Math.ceil((2*e.wide.size+1.5)/e.wide.counts)})),n}},{key:"_validateResult",value:function(t,e){for(var r,n=this._thresholdResultPattern(t,e),o=e,i=0;i<t.length;i++){r=this._charToPattern(t[i]);for(var a=6;a>=0;a--){var u=0==(1&a)?n.bar:n.space,s=1==(1&r)?u.wide:u.narrow,c=this._counters[o+a];if(c<s.min||c>s.max)return!1;r>>=1}o+=8}return!0}},{key:"_decode",value:function(t,e){if(this._counters=this._fillCounters(),!(e=this._findStart()))return null;var r,n=e.startCounter,o=[];do{if((r=this._toPattern(n))<0)return null;var i=this._patternToChar(r);if(null===i)return null;if(o.push(i),n+=8,o.length>1&&this._isStartEnd(r))break}while(n<this._counters.length);if(o.length-2<4||!this._isStartEnd(r))return null;if(!this._verifyWhitespace(e.startCounter,n-8))return null;if(!this._validateResult(o,e.startCounter))return null;n=n>this._counters.length?this._counters.length:n;var a=e.start+this._sumCounters(e.startCounter,n-8);return{code:o.join(""),start:e.start,end:a,startInfo:e,decodedCodes:o,format:this.FORMAT}}}]),r}(S);function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var ot=function(t){m()(r,t);var e=nt(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"FORMAT","upc_a"),t}return p()(r,[{key:"_decode",value:function(t,e){var r=z.prototype._decode.call(this);return r&&r.code&&13===r.code.length&&"0"===r.code.charAt(0)?(r.code=r.code.substring(1),r):null}}]),r}(z);function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var at=function(t){m()(r,t);var e=it(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"FORMAT","ean_8"),t}return p()(r,[{key:"_decodePayload",value:function(t,e,r){for(var n=t,o=0;o<4;o++){if(!(n=this._decodeCode(n.end,10)))return null;e.push(n.code),r.push(n)}if(null===(n=this._findPattern(I,n.end,!0,!1)))return null;r.push(n);for(var i=0;i<4;i++){if(!(n=this._decodeCode(n.end,10)))return null;r.push(n),e.push(n.code)}return n}}]),r}(z);function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var st=function(t){m()(r,t);var e=ut(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"FORMAT","ean_2"),t}return p()(r,[{key:"_decode",value:function(t,e){t&&(this._row=t);var r=0,n=e,o=this._row.length,i=[],a=[],u=null;if(void 0===n)return null;for(var s=0;s<2&&n<o;s++){if(!(u=this._decodeCode(n)))return null;a.push(u),i.push(u.code%10),u.code>=10&&(r|=1<<1-s),1!==s&&(n=this._nextSet(this._row,u.end),n=this._nextUnset(this._row,n))}if(2!==i.length||parseInt(i.join(""))%4!==r)return null;var c=this._findStart();return{code:i.join(""),decodedCodes:a,end:u.end,format:this.FORMAT,startInfo:c,start:c.start}}}]),r}(z);function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var ft=[24,20,18,17,12,6,3,10,9,5];var lt=function(t){m()(r,t);var e=ct(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"FORMAT","ean_5"),t}return p()(r,[{key:"_decode",value:function(t,e){if(void 0===e)return null;t&&(this._row=t);for(var r=0,n=e,o=this._row.length,i=null,a=[],u=[],s=0;s<5&&n<o;s++){if(!(i=this._decodeCode(n)))return null;u.push(i),a.push(i.code%10),i.code>=10&&(r|=1<<4-s),4!==s&&(n=this._nextSet(this._row,i.end),n=this._nextUnset(this._row,n))}if(5!==a.length)return null;if(function(t){for(var e=t.length,r=0,n=e-2;n>=0;n-=2)r+=t[n];r*=3;for(var o=e-1;o>=0;o-=2)r+=t[o];return(r*=3)%10}(a)!==function(t){for(var e=0;e<10;e++)if(t===ft[e])return e;return null}(r))return null;var c=this._findStart();return{code:a.join(""),decodedCodes:u,end:i.end,format:this.FORMAT,startInfo:c,start:c.start}}}]),r}(z);function ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var pt=function(t){m()(r,t);var e=dt(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),A()(g()(t),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),A()(g()(t),"FORMAT","upc_e"),t}return p()(r,[{key:"_decodePayload",value:function(t,e,r){for(var n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach((function(e){A()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),o=0,i=0;i<6;i++){if(!(n=this._decodeCode(n.end)))return null;n.code>=10&&(n.code=n.code-10,o|=1<<5-i),e.push(n.code),r.push(n)}return this._determineParity(o,e)?n:null}},{key:"_determineParity",value:function(t,e){for(var r=0;r<this.CODE_FREQUENCY.length;r++)for(var n=0;n<this.CODE_FREQUENCY[r].length;n++)if(t===this.CODE_FREQUENCY[r][n])return e.unshift(r),e.push(n),!0;return!1}},{key:"_convertToUPCA",value:function(t){var e=[t[0]],r=t[t.length-2];return(e=r<=2?e.concat(t.slice(1,3)).concat([r,0,0,0,0]).concat(t.slice(3,6)):3===r?e.concat(t.slice(1,4)).concat([0,0,0,0,0]).concat(t.slice(4,6)):4===r?e.concat(t.slice(1,5)).concat([0,0,0,0,0,t[5]]):e.concat(t.slice(1,6)).concat([0,0,0,0,r])).push(t[t.length-1]),e}},{key:"_checksum",value:function(t){return H()(x()(r.prototype),"_checksum",this).call(this,this._convertToUPCA(t))}},{key:"_findEnd",value:function(t,e){return H()(x()(r.prototype),"_findEnd",this).call(this,t,!0)}},{key:"_verifyTrailingWhitespace",value:function(t){var e=t.end+(t.end-t.start)/2;return e<this._row.length&&this._matchRange(t.end,e,0)?t:null}}]),r}(z);function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var gt=function(t){m()(r,t);var e=vt(r);function r(t){var n;return h()(this,r),n=e.call(this,M()({normalizeBarSpaceWidth:!1},t)),A()(g()(n),"barSpaceRatio",[1,1]),A()(g()(n),"SINGLE_CODE_ERROR",.78),A()(g()(n),"AVG_CODE_ERROR",.38),A()(g()(n),"START_PATTERN",[1,1,1,1]),A()(g()(n),"STOP_PATTERN",[1,1,3]),A()(g()(n),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),A()(g()(n),"MAX_CORRECTION_FACTOR",5),A()(g()(n),"FORMAT","i2of5"),t.normalizeBarSpaceWidth&&(n.SINGLE_CODE_ERROR=.38,n.AVG_CODE_ERROR=.09),n.config=t,w()(n,g()(n))}return p()(r,[{key:"_matchPattern",value:function(t,e){if(this.config.normalizeBarSpaceWidth){for(var r=[0,0],n=[0,0],o=[0,0],i=this.MAX_CORRECTION_FACTOR,a=1/i,u=0;u<t.length;u++)r[u%2]+=t[u],n[u%2]+=e[u];o[0]=n[0]/r[0],o[1]=n[1]/r[1],o[0]=Math.max(Math.min(o[0],i),a),o[1]=Math.max(Math.min(o[1],i),a),this.barSpaceRatio=o;for(var s=0;s<t.length;s++)t[s]*=this.barSpaceRatio[s%2]}return S.prototype._matchPattern.call(this,t,e)}},{key:"_findPattern",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new Array(t.length).fill(0),i=0,a={error:Number.MAX_VALUE,code:-1,start:0,end:0},u=this.AVG_CODE_ERROR;r=r||!1,n=n||!1,e||(e=this._nextSet(this._row));for(var s=e;s<this._row.length;s++)if(this._row[s]^(r?1:0))o[i]++;else{if(i===o.length-1){var c=o.reduce((function(t,e){return t+e}),0),f=this._matchPattern(o,t);if(f<u)return a.error=f,a.start=s-c,a.end=s,a;if(!n)return null;for(var l=0;l<o.length-2;l++)o[l]=o[l+2];o[o.length-2]=0,o[o.length-1]=0,i--}else i++;o[i]=1,r=!r}return null}},{key:"_findStart",value:function(){for(var t=0,e=this._nextSet(this._row),r=null,n=1;!r;){if(!(r=this._findPattern(this.START_PATTERN,e,!1,!0)))return null;if(n=Math.floor((r.end-r.start)/4),(t=r.start-10*n)>=0&&this._matchRange(t,r.start,0))return r;e=r.end,r=null}return null}},{key:"_verifyTrailingWhitespace",value:function(t){var e=t.end+(t.end-t.start)/2;return e<this._row.length&&this._matchRange(t.end,e,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===t)return null;var e=t.start;return t.start=this._row.length-t.end,t.end=this._row.length-e,null!==t?this._verifyTrailingWhitespace(t):null}},{key:"_decodePair",value:function(t){for(var e=[],r=0;r<t.length;r++){var n=this._decodeCode(t[r]);if(!n)return null;e.push(n)}return e}},{key:"_decodeCode",value:function(t){for(var e=this.AVG_CODE_ERROR,r={error:Number.MAX_VALUE,code:-1,start:0,end:0},n=0;n<this.CODE_PATTERN.length;n++){var o=this._matchPattern(t,this.CODE_PATTERN[n]);o<r.error&&(r.code=n,r.error=o)}return r.error<e?r:null}},{key:"_decodePayload",value:function(t,e,r){for(var n=0,o=t.length,i=[[0,0,0,0,0],[0,0,0,0,0]],a=null;n<o;){for(var u=0;u<5;u++)i[0][u]=t[n]*this.barSpaceRatio[0],i[1][u]=t[n+1]*this.barSpaceRatio[1],n+=2;if(!(a=this._decodePair(i)))return null;for(var s=0;s<a.length;s++)e.push(a[s].code+""),r.push(a[s])}return a}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"_decode",value:function(t,e){var r=new Array,n=new Array,o=this._findStart();if(!o)return null;n.push(o);var i=this._findEnd();if(!i)return null;var a=this._fillCounters(o.end,i.start,!1);return this._verifyCounterLength(a)&&this._decodePayload(a,r,n)?r.length%2!=0||r.length<6?null:(n.push(i),{code:r.join(""),start:o.start,end:i.end,startInfo:o,decodedCodes:n,format:this.FORMAT}):null}}]),r}(S);function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var mt=[3,1,3,1,1,1],bt=[3,1,1,1,3],wt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],_t=mt.reduce((function(t,e){return t+e}),0),xt=function(t){m()(r,t);var e=yt(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"barSpaceRatio",[1,1]),A()(g()(t),"FORMAT","2of5"),A()(g()(t),"SINGLE_CODE_ERROR",.78),A()(g()(t),"AVG_CODE_ERROR",.3),t}return p()(r,[{key:"_findPattern",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],i=0,a={error:Number.MAX_VALUE,code:-1,start:0,end:0},u=0,s=0,c=this.AVG_CODE_ERROR;e||(e=this._nextSet(this._row));for(var f=0;f<t.length;f++)o[f]=0;for(var l=e;l<this._row.length;l++)if(this._row[l]^(r?1:0))o[i]++;else{if(i===o.length-1){u=0;for(var h=0;h<o.length;h++)u+=o[h];if((s=this._matchPattern(o,t))<c)return a.error=s,a.start=l-u,a.end=l,a;if(!n)return null;for(var d=0;d<o.length-2;d++)o[d]=o[d+2];o[o.length-2]=0,o[o.length-1]=0,i--}else i++;o[i]=1,r=!r}return null}},{key:"_findStart",value:function(){for(var t=null,e=this._nextSet(this._row),r=1,n=0;!t;){if(!(t=this._findPattern(mt,e,!1,!0)))return null;if(r=Math.floor((t.end-t.start)/_t),(n=t.start-5*r)>=0&&this._matchRange(n,t.start,0))return t;e=t.end,t=null}return t}},{key:"_verifyTrailingWhitespace",value:function(t){var e=t.end+(t.end-t.start)/2;return e<this._row.length&&this._matchRange(t.end,e,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._nextSet(this._row),e=this._findPattern(bt,t,!1,!0);if(this._row.reverse(),null===e)return null;var r=e.start;return e.start=this._row.length-e.end,e.end=this._row.length-r,null!==e?this._verifyTrailingWhitespace(e):null}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"_decodeCode",value:function(t){for(var e=this.AVG_CODE_ERROR,r={error:Number.MAX_VALUE,code:-1,start:0,end:0},n=0;n<wt.length;n++){var o=this._matchPattern(t,wt[n]);o<r.error&&(r.code=n,r.error=o)}return r.error<e?r:null}},{key:"_decodePayload",value:function(t,e,r){for(var n=0,o=t.length,i=[0,0,0,0,0],a=null;n<o;){for(var u=0;u<5;u++)i[u]=t[n]*this.barSpaceRatio[0],n+=2;if(!(a=this._decodeCode(i)))return null;e.push("".concat(a.code)),r.push(a)}return a}},{key:"_decode",value:function(t,e){var r=this._findStart();if(!r)return null;var n=this._findEnd();if(!n)return null;var o=this._fillCounters(r.end,n.start,!1);if(!this._verifyCounterLength(o))return null;var i=[];i.push(r);var a=[];return this._decodePayload(o,a,i)?a.length<5?null:(i.push(n),{code:a.join(""),start:r.start,end:n.end,startInfo:r,decodedCodes:i,format:this.FORMAT}):null}}]),r}(S);function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var At=new Uint16Array(F()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map((function(t){return t.charCodeAt(0)}))),Rt=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]);function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var o=x()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w()(this,r)}}var Ot,Ct=/[AEIO]/g,kt={code_128_reader:C,ean_reader:z,ean_5_reader:lt,ean_2_reader:st,ean_8_reader:at,code_39_reader:Y,code_39_vin_reader:Z,codabar_reader:rt,upc_reader:ot,upc_e_reader:pt,i2of5_reader:gt,"2of5_reader":xt,code_93_reader:function(t){m()(r,t);var e=Et(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"FORMAT","code_93"),t}return p()(r,[{key:"_patternToChar",value:function(t){for(var e=0;e<Rt.length;e++)if(Rt[e]===t)return String.fromCharCode(At[e]);return null}},{key:"_toPattern",value:function(t){for(var e=t.length,r=t.reduce((function(t,e){return t+e}),0),n=0,o=0;o<e;o++){var i=Math.round(9*t[o]/r);if(i<1||i>4)return-1;if(0==(1&o))for(var a=0;a<i;a++)n=n<<1|1;else n<<=i}return n}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),e=t,r=new Uint16Array([0,0,0,0,0,0]),n=0,o=!1,i=t;i<this._row.length;i++)if(this._row[i]^(o?1:0))r[n]++;else{if(n===r.length-1){if(350===this._toPattern(r)){var a=Math.floor(Math.max(0,e-(i-e)/4));if(this._matchRange(a,e,0))return{start:e,end:i}}e+=r[0]+r[1];for(var u=0;u<4;u++)r[u]=r[u+2];r[4]=0,r[5]=0,n--}else n++;r[n]=1,o=!o}return null}},{key:"_verifyEnd",value:function(t,e){return!(t===e||!this._row[e])}},{key:"_decodeExtended",value:function(t){for(var e=t.length,r=[],n=0;n<e;n++){var o=t[n];if(o>="a"&&o<="d"){if(n>e-2)return null;var i=t[++n],a=i.charCodeAt(0),u=void 0;switch(o){case"a":if(!(i>="A"&&i<="Z"))return null;u=String.fromCharCode(a-64);break;case"b":if(i>="A"&&i<="E")u=String.fromCharCode(a-38);else if(i>="F"&&i<="J")u=String.fromCharCode(a-11);else if(i>="K"&&i<="O")u=String.fromCharCode(a+16);else if(i>="P"&&i<="S")u=String.fromCharCode(a+43);else{if(!(i>="T"&&i<="Z"))return null;u=String.fromCharCode(127)}break;case"c":if(i>="A"&&i<="O")u=String.fromCharCode(a-32);else{if("Z"!==i)return null;u=":"}break;case"d":if(!(i>="A"&&i<="Z"))return null;u=String.fromCharCode(a+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",u),null}r.push(u)}else r.push(o)}return r}},{key:"_matchCheckChar",value:function(t,e,r){var n=t.slice(0,e),o=n.length,i=n.reduce((function(t,e,n){return t+((-1*n+(o-1))%r+1)*At.indexOf(e.charCodeAt(0))}),0);return At[i%47]===t[e].charCodeAt(0)}},{key:"_verifyChecksums",value:function(t){return this._matchCheckChar(t,t.length-2,20)&&this._matchCheckChar(t,t.length-1,15)}},{key:"_decode",value:function(t,e){if(!(e=this._findStart()))return null;var r,n,o=new Uint16Array([0,0,0,0,0,0]),i=[],a=this._nextSet(this._row,e.end);do{o=this._toCounters(a,o);var u=this._toPattern(o);if(u<0)return null;if(null===(n=this._patternToChar(u)))return null;i.push(n),r=a,a+=R.a.sum(o),a=this._nextSet(this._row,a)}while("*"!==n);return i.pop(),i.length&&this._verifyEnd(r,a)&&this._verifyChecksums(i)?(i=i.slice(0,i.length-2),null===(i=this._decodeExtended(i))?null:{code:i.join(""),start:e.start,end:a,startInfo:e,decodedCodes:i,format:this.FORMAT}):null}}]),r}(S),code_32_reader:function(t){m()(r,t);var e=St(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),A()(g()(t),"FORMAT","code_32_reader"),t}return p()(r,[{key:"_decodeCode32",value:function(t){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(t))return null;for(var e=0,r=0;r<t.length;r++)e=32*e+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(t[r]);var n=""+e;return n.length<9&&(n=("000000000"+n).slice(-9)),"A"+n}},{key:"_checkChecksum",value:function(t){return!!t}},{key:"_decode",value:function(t,e){var n=H()(x()(r.prototype),"_decode",this).call(this,t,e);if(!n)return null;var o=n.code;if(!o)return null;if(o=o.replace(Ct,""),!this._checkChecksum(o))return null;var i=this._decodeCode32(o);return i?(n.code=i,n):null}}]),r}(Y)},Mt={registerReader:function(t,e){kt[t]=e},create:function(t,e){var r={frequency:null,pattern:null,overlay:null},n=[];function i(){t.readers.forEach((function(t){var e,r={},i=[];"object"===o()(t)?(e=t.format,r=t.config):"string"==typeof t&&(e=t),r.supplements&&(i=r.supplements.map((function(t){return new kt[t]})));try{var a=new kt[e](r,i);n.push(a)}catch(t){throw console.error("* Error constructing reader ",e,t),t}}))}function a(t){var r,o=null,i=c.getBarcodeLine(e,t[0],t[1]);for(c.toBinaryLine(i),r=0;r<n.length&&null===o;r++)o=n[r].decodePattern(i.line);return null===o?null:{codeResult:o,barcodeLine:i}}function u(t){var n,o;r.overlay;var i=function(t){return Math.sqrt(Math.pow(Math.abs(t[1].y-t[0].y),2)+Math.pow(Math.abs(t[1].x-t[0].x),2))}(n=function(t){return[{x:(t[1][0]-t[0][0])/2+t[0][0],y:(t[1][1]-t[0][1])/2+t[0][1]},{x:(t[3][0]-t[2][0])/2+t[2][0],y:(t[3][1]-t[2][1])/2+t[2][1]}]}(t)),u=Math.atan2(n[1].y-n[0].y,n[1].x-n[0].x);return null===(n=function(t,r,n){function o(e){var n=e*Math.sin(r),o=e*Math.cos(r);t[0].y-=n,t[0].x-=o,t[1].y+=n,t[1].x+=o}for(o(n);n>1&&(!e.inImageWithBorder(t[0])||!e.inImageWithBorder(t[1]));)o(-(n-=Math.ceil(n/2)));return t}(n,u,Math.floor(.1*i)))?null:(null===(o=a(n))&&(o=function(t,e,r){var n,o,i,u=Math.sqrt(Math.pow(t[1][0]-t[0][0],2)+Math.pow(t[1][1]-t[0][1],2)),s=null,c=Math.sin(r),f=Math.cos(r);for(n=1;n<16&&null===s;n++)i={y:(o=u/16*n*(n%2==0?-1:1))*c,x:o*f},e[0].y+=i.x,e[0].x-=i.y,e[1].y+=i.x,e[1].x-=i.y,s=a(e);return s}(t,n,u)),null===o?null:{codeResult:o.codeResult,line:n,angle:u,pattern:o.barcodeLine.line,threshold:o.barcodeLine.threshold})}return i(),{decodeFromBoundingBox:function(t){return u(t)},decodeFromBoundingBoxes:function(e){var r,n,o=[],i=t.multiple;for(r=0;r<e.length;r++){var a=e[r];if((n=u(a)||{}).box=a,i)o.push(n);else if(n.codeResult)return n}if(i)return{barcodes:o}},decodeFromImage:function(t){return function(t){for(var e=null,r=0;r<n.length&&null===e;r++)e=n[r].decodeImage?n[r].decodeImage(t):null;return e}(t)},registerReader:function(t,e){if(kt[t])throw new Error("cannot register existing reader",t);kt[t]=e},setReaders:function(e){t.readers=e,n.length=0,i()}}}},Tt=function(){var t={};function e(e){return t[e]||(t[e]={subscribers:[]}),t[e]}function r(t,e){t.async?setTimeout((function(){t.callback(e)}),4):t.callback(e)}function n(t,r,n){var o;if("function"==typeof r)o={callback:r,async:n};else if(!(o=r).callback)throw new Error("Callback was not specified on options");e(t).subscribers.push(o)}return{subscribe:function(t,e,r){return n(t,e,r)},publish:function(t,n){var o=e(t),i=o.subscribers;i.filter((function(t){return!!t.once})).forEach((function(t){r(t,n)})),o.subscribers=i.filter((function(t){return!t.once})),o.subscribers.forEach((function(t){r(t,n)}))},once:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(t,{callback:e,async:r,once:!0})},unsubscribe:function(r,n){if(r){var o=e(r);o.subscribers=o&&n?o.subscribers.filter((function(t){return t.callback!==n})):[]}else t={}}}}(),jt=r(19),Pt=r.n(jt),Dt=r(41),It=r.n(Dt),Lt=r(101),Ut=r.n(Lt),Bt="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function zt(){try{return navigator.mediaDevices.enumerateDevices()}catch(e){var t=new Error("enumerateDevices is not defined. ".concat(Bt));return t.code=-1,Promise.reject(t)}}function Nt(t){try{return navigator.mediaDevices.getUserMedia(t)}catch(t){var e=new Error("getUserMedia is not defined. ".concat(Bt));return e.code=-1,Promise.reject(e)}}function Ft(t){return new Promise((function(e,r){var n=10;!function o(){n>0?t.videoWidth>10&&t.videoHeight>10?e():window.setTimeout(o,500):r(new Error("Unable to play video stream. Is webcam working?")),n--}()}))}function Wt(t,e){return qt.apply(this,arguments)}function qt(){return(qt=It()(Pt.a.mark((function t(e,r){var n;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt(r);case 2:return n=t.sent,Ot=n,e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e.srcObject=n,e.addEventListener("loadedmetadata",(function(){e.play()})),t.abrupt("return",Ft(e));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vt(t){var e=Ut()(t,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==t.minAspectRatio&&t.minAspectRatio>0&&(e.aspectRatio=t.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==t.facing&&(e.facingMode=t.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),e}function Yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Vt(t);return e&&e.deviceId&&e.facingMode&&delete e.facingMode,Promise.resolve({audio:!1,video:e})}function Gt(){return(Gt=It()(Pt.a.mark((function t(){var e;return Pt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zt();case 2:return e=t.sent,t.abrupt("return",e.filter((function(t){return"videoinput"===t.kind})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ht(){if(!Ot)return null;var t=Ot.getVideoTracks();return t&&(null==t?void 0:t.length)?t[0]:null}var Xt={request:function(t,e){return It()(Pt.a.mark((function r(){var n;return Pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Yt(e);case 2:return n=r.sent,r.abrupt("return",Wt(t,n));case 4:case"end":return r.stop()}}),r)})))()},release:function(){var t=Ot&&Ot.getVideoTracks();t&&t.length&&t[0].stop(),Ot=null},enumerateVideoDevices:function(){return Gt.apply(this,arguments)},getActiveStreamLabel:function(){var t=Ht();return t?t.label:""},getActiveTrack:Ht};var Qt={create:function(t){var e,r=document.createElement("canvas"),n=r.getContext("2d"),o=[],i=null!==(e=t.capacity)&&void 0!==e?e:20,a=!0===t.capture;function u(e){return!!i&&e&&!function(t,e){return e&&e.some((function(e){return Object.keys(e).every((function(r){return e[r]===t[r]}))}))}(e,t.blacklist)&&function(t,e){return"function"!=typeof e||e(t)}(e,t.filter)}return{addResult:function(t,e,s){var c={};u(s)&&(i--,c.codeResult=s,a&&(r.width=e.x,r.height=e.y,f.a.drawImage(t,e,n),c.frame=r.toDataURL()),o.push(c))},getResults:function(){return o}}}},$t={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Zt=r(7),Kt=function t(){h()(this,t),A()(this,"config",void 0),A()(this,"inputStream",void 0),A()(this,"framegrabber",void 0),A()(this,"inputImageWrapper",void 0),A()(this,"stopped",!1),A()(this,"boxSize",void 0),A()(this,"resultCollector",void 0),A()(this,"decoder",void 0),A()(this,"workerPool",[]),A()(this,"onUIThread",!0),A()(this,"canvasContainer",new te)},Jt=function t(){h()(this,t),A()(this,"image",void 0),A()(this,"overlay",void 0)},te=function t(){h()(this,t),A()(this,"ctx",void 0),A()(this,"dom",void 0),this.ctx=new Jt,this.dom=new Jt},ee=r(28);function re(t){if("undefined"==typeof document)return null;if(t instanceof HTMLElement&&t.nodeName&&1===t.nodeType)return t;var e="string"==typeof t?t:"#interactive.viewport";return document.querySelector(e)}function ne(t,e){var r=function(t,e){var r=document.querySelector(t);return r||((r=document.createElement("canvas")).className=e),r}(t,e),n=r.getContext("2d");return{canvas:r,context:n}}function oe(t){var e,r,n,o,i=re(null==t||null===(e=t.config)||void 0===e||null===(r=e.inputStream)||void 0===r?void 0:r.target),a=null==t||null===(n=t.config)||void 0===n||null===(o=n.inputStream)||void 0===o?void 0:o.type;if(!a)return null;var u=function(t){if("undefined"!=typeof document){var e=ne("canvas.imgBuffer","imgBuffer"),r=ne("canvas.drawingBuffer","drawingBuffer");return e.canvas.width=r.canvas.width=t.x,e.canvas.height=r.canvas.height=t.y,{dom:{image:e.canvas,overlay:r.canvas},ctx:{image:e.context,overlay:r.context}}}return null}(t.inputStream.getCanvasSize());if(!u)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var s=u.dom;return"undefined"!=typeof document&&i&&("ImageStream"!==a||i.contains(s.image)||i.appendChild(s.image),i.contains(s.overlay)||i.appendChild(s.overlay)),u}var ie={274:"orientation"},ae=Object.keys(ie).map((function(t){return ie[t]}));function ue(t){return new Promise((function(e){var r=new FileReader;r.onload=function(t){return e(t.target.result)},r.readAsArrayBuffer(t)}))}function se(t){return new Promise((function(e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onreadystatechange=function(){n.readyState!==XMLHttpRequest.DONE||200!==n.status&&0!==n.status||e(this.response)},n.onerror=r,n.send()}))}function ce(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,r=new DataView(t),n=t.byteLength,o=e.reduce((function(t,e){var r=Object.keys(ie).filter((function(t){return ie[t]===e}))[0];return r&&(t[r]=e),t}),{}),i=2;if(255!==r.getUint8(0)||216!==r.getUint8(1))return!1;for(;i<n;){if(255!==r.getUint8(i))return!1;if(225===r.getUint8(i+1))return fe(r,i+4,o);i+=2+r.getUint16(i+2)}return!1}function fe(t,e,r){if("Exif"!==function(t,e,r){for(var n="",o=e;o<e+r;o++)n+=String.fromCharCode(t.getUint8(o));return n}(t,e,4))return!1;var n,o=e+6;if(18761===t.getUint16(o))n=!1;else{if(19789!==t.getUint16(o))return!1;n=!0}if(42!==t.getUint16(o+2,!n))return!1;var i=t.getUint32(o+4,!n);return!(i<8)&&function(t,e,r,n,o){for(var i=t.getUint16(r,!o),a={},u=0;u<i;u++){var s=r+12*u+2,c=n[t.getUint16(s,!o)];c&&(a[c]=le(t,s,e,r,o))}return a}(t,o,o+i,r,n)}function le(t,e,r,n,o){var i=t.getUint16(e+2,!o),a=t.getUint32(e+4,!o);switch(i){case 3:if(1===a)return t.getUint16(e+8,!o)}return null}var he={};function de(t,e){t.onload=function(){e.loaded(this)}}he.load=function(t,e,r,n,o){var i,a,u,s=new Array(n),c=new Array(s.length);if(!1===o)s[0]=t;else for(i=0;i<s.length;i++)u=r+i,s[i]="".concat(t,"image-").concat("00".concat(u).slice(-3),".jpg");for(c.notLoaded=[],c.addImage=function(t){c.notLoaded.push(t)},c.loaded=function(r){for(var n=c.notLoaded,i=0;i<n.length;i++)if(n[i]===r){n.splice(i,1);for(var a=0;a<s.length;a++){var u=s[a].substr(s[a].lastIndexOf("/"));if(-1!==r.src.lastIndexOf(u)){c[a]={img:r};break}}break}0===n.length&&(!1===o?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return/^blob:/i.test(t)?se(t).then(ue).then((function(t){return ce(t,e)})):Promise.resolve(null)}(t,["orientation"]).then((function(t){c[0].tags=t,e(c)})).catch((function(t){console.log(t),e(c)})):e(c))},i=0;i<s.length;i++)a=new Image,c.addImage(a),de(a,c),a.src=s[i]};var pe=he,ve={createVideoStream:function(t){var e,r,n=null,o=["canrecord","ended"],i={},a={x:0,y:0,type:"Point"},u={x:0,y:0,type:"XYSize"};var s={getRealWidth:function(){return t.videoWidth},getRealHeight:function(){return t.videoHeight},getWidth:function(){return e},getHeight:function(){return r},setWidth:function(t){e=t},setHeight:function(t){r=t},setInputStream:function(t){n=t,this.setAttribute("src",void 0!==t.src?t.src:"")},ended:function(){return t.ended},getConfig:function(){return n},setAttribute:function(e,r){t&&t.setAttribute(e,r)},pause:function(){t.pause()},play:function(){t.play()},setCurrentTime:function(t){var e;"LiveStream"!==(null===(e=n)||void 0===e?void 0:e.type)&&this.setAttribute("currentTime",t.toString())},addEventListener:function(e,r,n){-1!==o.indexOf(e)?(i[e]||(i[e]=[]),i[e].push(r)):t.addEventListener(e,r,n)},clearEventHandlers:function(){o.forEach((function(e){var r=i[e];r&&r.length>0&&r.forEach((function(r){t.removeEventListener(e,r)}))}))},trigger:function(o,a){var c,f,l,h,d,p=i[o];if("canrecord"===o&&(h=t.videoWidth,d=t.videoHeight,e=(null===(f=n)||void 0===f?void 0:f.size)?h/d>1?n.size:Math.floor(h/d*n.size):h,r=(null===(l=n)||void 0===l?void 0:l.size)?h/d>1?Math.floor(d/h*n.size):n.size:d,u.x=e,u.y=r),p&&p.length>0)for(c=0;c<p.length;c++)p[c].apply(s,a)},setTopRight:function(t){a.x=t.x,a.y=t.y},getTopRight:function(){return a},setCanvasSize:function(t){u.x=t.x,u.y=t.y},getCanvasSize:function(){return u},getFrame:function(){return t}};return s},createLiveStream:function(t){t&&t.setAttribute("autoplay","true");var e=ve.createVideoStream(t);return e.ended=function(){return!1},e},createImageStream:function(){var t,e,r=null,n=0,o=0,i=0,a=!0,u=!1,s=null,c=0,f=null,l=!1,h=["canrecord","ended"],d={},p={x:0,y:0,type:"Point"},v={x:0,y:0,type:"XYSize"};function g(t,e){var r,n=d[t];if(n&&n.length>0)for(r=0;r<n.length;r++)n[r].apply(y,e)}var y={trigger:g,getWidth:function(){return t},getHeight:function(){return e},setWidth:function(e){t=e},setHeight:function(t){e=t},getRealWidth:function(){return n},getRealHeight:function(){return o},setInputStream:function(a){var l;r=a,!1===a.sequence?(f=a.src,c=1):(f=a.src,c=a.length),u=!1,pe.load(f,(function(a){var c,f;if(s=a,a[0].tags&&a[0].tags.orientation)switch(a[0].tags.orientation){case 6:case 8:n=a[0].img.height,o=a[0].img.width;break;default:n=a[0].img.width,o=a[0].img.height}else n=a[0].img.width,o=a[0].img.height;t=(null===(c=r)||void 0===c?void 0:c.size)?n/o>1?r.size:Math.floor(n/o*r.size):n,e=(null===(f=r)||void 0===f?void 0:f.size)?n/o>1?Math.floor(o/n*r.size):r.size:o,v.x=t,v.y=e,u=!0,i=0,setTimeout((function(){g("canrecord",[])}),0)}),1,c,null===(l=r)||void 0===l?void 0:l.sequence)},ended:function(){return l},setAttribute:function(){},getConfig:function(){return r},pause:function(){a=!0},play:function(){a=!1},setCurrentTime:function(t){i=t},addEventListener:function(t,e){-1!==h.indexOf(t)&&(d[t]||(d[t]=[]),d[t].push(e))},clearEventHandlers:function(){Object.keys(d).forEach((function(t){return delete d[t]}))},setTopRight:function(t){p.x=t.x,p.y=t.y},getTopRight:function(){return p},setCanvasSize:function(t){v.x=t.x,v.y=t.y},getCanvasSize:function(){return v},getFrame:function(){var t,e;if(!u)return null;a||(t=null===(e=s)||void 0===e?void 0:e[i],i<c-1?i++:setTimeout((function(){l=!0,g("ended",[])}),0));return t}};return y}},ge=ve,ye=r(39),me=r.n(ye),be=r(104),we=r.n(be),_e={createVideoStream:function(){throw new Error("createVideoStream not available")},createLiveStream:function(){throw new Error("createLiveStream not available")},createImageStream:function(){var t,e,r,n=null,o=0,i=0,a=!1,u=null,s=["canrecord","ended"],c={},f={x:0,y:0,type:"Point"},l={x:0,y:0,type:"XYSize"};function h(t,e){var r=c[t];if(r&&r.length>0)for(var n=0;n<r.length;n++)r[n].apply(d,e)}var d={trigger:h,getWidth:function(){return e},getHeight:function(){return r},setWidth:function(t){e=t},setHeight:function(t){r=t},getRealWidth:function(){return o},getRealHeight:function(){return i},setInputStream:function(s){var c,f;t=null===(c=n=s)||void 0===c?void 0:c.src,1,a=!1,we()(t,null===(f=n)||void 0===f?void 0:f.mime,(function(t,s){var c,f;if(t)throw console.error("**** quagga loadImages error:",t),new Error("error decoding pixels in loadImages");a=!0,u=s;var d=me()(s.shape,2);o=d[0],i=d[1],e=(null===(c=n)||void 0===c?void 0:c.size)?o/i>1?n.size:Math.floor(o/i*n.size):o,r=(null===(f=n)||void 0===f?void 0:f.size)?o/i>1?Math.floor(i/o*n.size):n.size:i,l.x=e,l.y=r,setTimeout((function(){h("canrecord",[])}),0)}))},ended:function(){return!1},setAttribute:function(){},getConfig:function(){return n},pause:function(){!0},play:function(){!1},setCurrentTime:function(t){t},addEventListener:function(t,e){-1!==s.indexOf(t)&&(c[t]||(c[t]=[]),c[t].push(e))},clearEventHandlers:function(){Object.keys(c).forEach((function(t){return delete c[t]}))},setTopRight:function(t){f.x=t.x,f.y=t.y},getTopRight:function(){return f},setCanvasSize:function(t){l.x=t.x,l.y=t.y},getCanvasSize:function(){return l},getFrame:function(){return a?u:null}};return d}},xe=ge,Ee=r(99),Ae=r.n(Ee),Re=r(8),Se=Math.PI/180;var Oe={create:function(t,e){var r,n={},o=t.getConfig(),i=(Object(Re.imageRef)(t.getRealWidth(),t.getRealHeight()),t.getCanvasSize()),a=Object(Re.imageRef)(t.getWidth(),t.getHeight()),u=t.getTopRight(),s=u.x,c=u.y,f=null,l=null;return(r=e||document.createElement("canvas")).width=i.x,r.height=i.y,f=r.getContext("2d"),l=new Uint8Array(a.x*a.y),n.attachData=function(t){l=t},n.getData=function(){return l},n.grab=function(){var e,n=o.halfSample,u=t.getFrame(),h=u,d=0;if(h){if(function(t,e){t.width!==e.x&&(t.width=e.x),t.height!==e.y&&(t.height=e.y)}(r,i),"ImageStream"===o.type&&(h=u.img,u.tags&&u.tags.orientation))switch(u.tags.orientation){case 6:d=90*Se;break;case 8:d=-90*Se}return 0!==d?(f.translate(i.x/2,i.y/2),f.rotate(d),f.drawImage(h,-i.y/2,-i.x/2,i.y,i.x),f.rotate(-d),f.translate(-i.x/2,-i.y/2)):f.drawImage(h,0,0,i.x,i.y),e=f.getImageData(s,c,a.x,a.y).data,n?Object(Re.grayAndHalfSampleFromCanvasData)(e,a,l):Object(Re.computeGray)(e,l,o),!0}return!1},n.getSize=function(){return a},n}},Ce=Oe;function ke(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(r),!0).forEach((function(e){A()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Te=[];function je(t){return Me(Me({},t),{},{inputStream:Me(Me({},t.inputStream),{},{target:null})})}function Pe(t){if(t){var e=t().default;if(!e)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var r;function n(t){self.postMessage({event:"processed",imageData:r.data,result:t},[r.data.buffer])}function o(){self.postMessage({event:"initialized",imageData:r.data},[r.data.buffer])}self.onmessage=function(t){if("init"===t.data.cmd){var i=t.data.config;i.numOfWorkers=0,r=new e.ImageWrapper({x:t.data.size.x,y:t.data.size.y},new Uint8Array(t.data.imageData)),e.init(i,o,r),e.onProcessed(n)}else"process"===t.data.cmd?(r.data=new Uint8Array(t.data.imageData),e.start()):"setReaders"===t.data.cmd?e.setReaders(t.data.readers):"registerReader"===t.data.cmd&&e.registerReader(t.data.name,t.data.reader)}}function De(t,e,r){var n,o,i=("undefined"!=typeof __factorySource__&&(o=__factorySource__),n=new Blob(["("+Pe.toString()+")("+o+");"],{type:"text/javascript"}),window.URL.createObjectURL(n)),a={worker:new Worker(i),imageData:new Uint8Array(e.getWidth()*e.getHeight()),busy:!0};a.worker.onmessage=function(t){"initialized"===t.data.event?(URL.revokeObjectURL(i),a.busy=!1,a.imageData=new Uint8Array(t.data.imageData),r(a)):"processed"===t.data.event?(a.imageData=new Uint8Array(t.data.imageData),a.busy=!1):t.data.event},a.worker.postMessage({cmd:"init",size:{x:e.getWidth(),y:e.getHeight()},imageData:a.imageData,config:je(t)},[a.imageData.buffer])}function Ie(t,e,r,n){var o=t-Te.length;if(0===o&&n)n();else if(o<0){Te.slice(o).forEach((function(t){t.worker.terminate()})),Te=Te.slice(0,o),n&&n()}else{var i=function(e){Te.push(e),Te.length>=t&&n&&n()};if(e)for(var a=0;a<o;a++)De(e,r,i)}}function Le(t,e,r){for(var n=t.length;n--;)t[n][0]+=e,t[n][1]+=r}var Ue="undefined"==typeof window?_e:xe,Be="undefined"==typeof window?Ae.a:Ce,ze=function(){function t(){var e=this;h()(this,t),A()(this,"context",new Kt),A()(this,"canRecord",(function(t){var r;e.context.config&&(ee.a.checkImageConstraints(e.context.inputStream,null===(r=e.context.config)||void 0===r?void 0:r.locator),e.initCanvas(),e.context.framegrabber=Be.create(e.context.inputStream,e.context.canvasContainer.dom.image),void 0===e.context.config.numOfWorkers&&(e.context.config.numOfWorkers=0),Ie(e.context.config.numOfWorkers,e.context.config,e.context.inputStream,(function(){var r;0===(null===(r=e.context.config)||void 0===r?void 0:r.numOfWorkers)&&e.initializeData(),e.ready(t)})))})),A()(this,"update",(function(){if(e.context.onUIThread){var t,r=(o=e.context.framegrabber,Te.length?!!(i=Te.filter((function(t){return!t.busy}))[0])&&(o.attachData(i.imageData),o.grab()&&(i.busy=!0,i.worker.postMessage({cmd:"process",imageData:i.imageData},[i.imageData.buffer])),!0):null);if(!r)e.context.framegrabber.attachData(null===(t=e.context.inputImageWrapper)||void 0===t?void 0:t.data),e.context.framegrabber.grab()&&(r||e.locateAndDecode())}else{var n;e.context.framegrabber.attachData(null===(n=e.context.inputImageWrapper)||void 0===n?void 0:n.data),e.context.framegrabber.grab(),e.locateAndDecode()}var o,i}))}return p()(t,[{key:"initBuffers",value:function(t){if(this.context.config){var e=function(t,e,r){var n=e||new i.a({x:t.getWidth(),y:t.getHeight(),type:"XYSize"}),o=[Object(Zt.clone)([0,0]),Object(Zt.clone)([0,n.size.y]),Object(Zt.clone)([n.size.x,n.size.y]),Object(Zt.clone)([n.size.x,0])];return ee.a.init(n,r),{inputImageWrapper:n,boxSize:o}}(this.context.inputStream,t,this.context.config.locator),r=e.inputImageWrapper,n=e.boxSize;this.context.inputImageWrapper=r,this.context.boxSize=n}}},{key:"initializeData",value:function(t){this.context.config&&(this.initBuffers(t),this.context.decoder=Mt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?re(this.context.config.inputStream.target):null}},{key:"ready",value:function(t){this.context.inputStream.play(),t()}},{key:"initCanvas",value:function(){var t=oe(this.context);if(t){var e=t.ctx,r=t.dom;this.context.canvasContainer.dom.image=r.image,this.context.canvasContainer.dom.overlay=r.overlay,this.context.canvasContainer.ctx.image=e.image,this.context.canvasContainer.ctx.overlay=e.overlay}}},{key:"initInputStream",value:function(t){if(this.context.config&&this.context.config.inputStream){var e=this.context.config.inputStream,r=e.type,n=e.constraints,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;switch(t){case"VideoStream":var n=document.createElement("video");return{video:n,inputStream:r.createVideoStream(n)};case"ImageStream":return{inputStream:r.createImageStream()};case"LiveStream":var o=null;return e&&((o=e.querySelector("video"))||(o=document.createElement("video"),e.appendChild(o))),{video:o,inputStream:r.createLiveStream(o)};default:return console.error("* setupInputStream invalid type ".concat(t)),{video:null,inputStream:null}}}(r,this.getViewPort(),Ue),i=o.video,a=o.inputStream;"LiveStream"===r&&i&&Xt.request(i,n).then((function(){return a.trigger("canrecord")})).catch((function(e){return t(e)})),a.setAttribute("preload","auto"),a.setInputStream(this.context.config.inputStream),a.addEventListener("canrecord",this.canRecord.bind(void 0,t)),this.context.inputStream=a}}},{key:"getBoundingBoxes",value:function(){var t;return(null===(t=this.context.config)||void 0===t?void 0:t.locate)?ee.a.locate():[[Object(Zt.clone)(this.context.boxSize[0]),Object(Zt.clone)(this.context.boxSize[1]),Object(Zt.clone)(this.context.boxSize[2]),Object(Zt.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(t){var e=this,r=this.context.inputStream.getTopRight(),n=r.x,o=r.y;if((0!==n||0!==o)&&(t.barcodes&&t.barcodes.forEach((function(t){return e.transformResult(t)})),t.line&&2===t.line.length&&function(t,e,r){t[0].x+=e,t[0].y+=r,t[1].x+=e,t[1].y+=r}(t.line,n,o),t.box&&Le(t.box,n,o),t.boxes&&t.boxes.length>0))for(var i=0;i<t.boxes.length;i++)Le(t.boxes[i],n,o)}},{key:"addResult",value:function(t,e){var r=this;e&&this.context.resultCollector&&(t.barcodes?t.barcodes.filter((function(t){return t.codeResult})).forEach((function(t){return r.addResult(t,e)})):t.codeResult&&this.context.resultCollector.addResult(e,this.context.inputStream.getCanvasSize(),t.codeResult))}},{key:"hasCodeResult",value:function(t){return!(!t||!(t.barcodes?t.barcodes.some((function(t){return t.codeResult})):t.codeResult))}},{key:"publishResult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=t;t&&this.context.onUIThread&&(this.transformResult(t),this.addResult(t,e),r=t.barcodes||t),Tt.publish("processed",r),this.hasCodeResult(t)&&Tt.publish("detected",r)}},{key:"locateAndDecode",value:function(){var t=this.getBoundingBoxes();if(t){var e,r=this.context.decoder.decodeFromBoundingBoxes(t)||{};r.boxes=t,this.publishResult(r,null===(e=this.context.inputImageWrapper)||void 0===e?void 0:e.data)}else{var n,o=this.context.decoder.decodeFromImage(this.context.inputImageWrapper);if(o)this.publishResult(o,null===(n=this.context.inputImageWrapper)||void 0===n?void 0:n.data);else this.publishResult()}}},{key:"startContinuousUpdate",value:function(){var t,e=this,r=null,n=1e3/((null===(t=this.context.config)||void 0===t?void 0:t.frequency)||60);this.context.stopped=!1;var o=this.context;!function t(i){r=r||i,o.stopped||(i>=r&&(r+=n,e.update()),window.requestAnimationFrame(t))}(performance.now())}},{key:"start",value:function(){var t,e;this.context.onUIThread&&"LiveStream"===(null===(t=this.context.config)||void 0===t||null===(e=t.inputStream)||void 0===e?void 0:e.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:function(){var t;this.context.stopped=!0,Ie(0),(null===(t=this.context.config)||void 0===t?void 0:t.inputStream)&&"LiveStream"===this.context.config.inputStream.type&&(Xt.release(),this.context.inputStream.clearEventHandlers())}},{key:"setReaders",value:function(t){this.context.decoder&&this.context.decoder.setReaders(t),function(t){Te.forEach((function(e){return e.worker.postMessage({cmd:"setReaders",readers:t})}))}(t)}},{key:"registerReader",value:function(t,e){Mt.registerReader(t,e),this.context.decoder&&this.context.decoder.registerReader(t,e),function(t,e){Te.forEach((function(r){return r.worker.postMessage({cmd:"registerReader",name:t,reader:e})}))}(t,e)}}]),t}(),Ne=new ze,Fe=Ne.context,We={init:function(t,e,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ne;return e||(n=new Promise((function(t,r){e=function(e){e?r(e):t()}}))),o.context.config=M()({},$t,t),o.context.config.numOfWorkers>0&&(o.context.config.numOfWorkers=0),r?(o.context.onUIThread=!1,o.initializeData(r),e&&e()):o.initInputStream(e),n},start:function(){Ne.start()},stop:function(){Ne.stop()},pause:function(){Fe.stopped=!0},onDetected:function(t){t&&("function"==typeof t||"object"===o()(t)&&t.callback)?Tt.subscribe("detected",t):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(t){Tt.unsubscribe("detected",t)},onProcessed:function(t){t&&("function"==typeof t||"object"===o()(t)&&t.callback)?Tt.subscribe("processed",t):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(t){Tt.unsubscribe("processed",t)},setReaders:function(t){t?Ne.setReaders(t):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(t,e){t?e?Ne.registerReader(t,e):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(t){t&&"function"==typeof t.addResult&&(Fe.resultCollector=t)},get canvas(){return Fe.canvasContainer},decodeSingle:function(t,e){var r=this,n=new ze;return(t=M()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:t.src},numOfWorkers:1,locator:{halfSample:!1}},t)).numOfWorkers>0&&(t.numOfWorkers=0),t.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),t.numOfWorkers=0),new Promise((function(o,i){try{r.init(t,(function(){Tt.once("processed",(function(t){n.stop(),e&&e.call(null,t),o(t)}),!0),n.start()}),null,n)}catch(t){i(t)}}))},get default(){return We},BarcodeReader:S,CameraAccess:Xt,ImageDebug:f.a,ImageWrapper:i.a,ResultCollector:Qt};e.default=We}]).default}));